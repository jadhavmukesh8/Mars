<mvc:View xmlns:core="sap.ui.core"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m" controllerName="com.airbus.zcfe2meautorc.controller.UpdateRouting"
    xmlns:html="http://www.w3.org/1999/xhtml"
    xmlns:ui="sap.ui.table"
    xmlns:l="sap.ui.layout"
    xmlns:grid="sap.ui.layout.cssgrid"
    xmlns:rte="sap.ui.richtexteditor"
    xmlns:f="sap.ui.layout.form"
    xmlns:dnd="sap.ui.core.dnd"
    xmlns:tnt="sap.tnt">
    <App>
        <pages>
            <Page showHeader="false" class="sapUiSizeCompact">
                <content>
                    <l:Splitter id="SplitterID" height="100%" width="100%" resize="fnResize">
                        <Page showFooter="false" showHeader="false" visible="{oVisibilityModel>/bEndUserVisible}" enableScrolling="true">
                            <layoutData>
                                <l:SplitterLayoutData size="{oVisibilityModel>/bomSize}" resizable="false" />
                            </layoutData>
                            <HBox fitContainer="true" justifyContent="Center">
                                <VBox fitContainer="true" width="95%" visible="{oVisibilityModel>/bBOMVisible}">
                                    <Panel expandable="true" expanded="true" width="100%" backgroundDesign="Solid" class="rcpanelbgcolor">
                                        <headerToolbar>
                                            <Toolbar>
                                                <Text text="{i18n>bom.title}" tooltip="{i18n>bom.title}" wrapping="false" class="bomHeaderCls" />
                                                <Text text="{oRoutingHeaderModel>/BOM/BomNo}" tooltip="{oRoutingHeaderModel>/BOM/BomNo}" visible="{oVisibilityModel>/bBOMVisible}" wrapping="false" class="bomHeaderCls testcls" />
                                                <Label text="{i18n>bom.altbom}" visible="{oVisibilityModel>/bBOMVisible}" tooltip="{i18n>bom.altbom}" />
                                                <ComboBox id="altbomcombobox" visible="{oVisibilityModel>/bBOMVisible}" value="{oRoutingHeaderModel>/selectedAltBOM}" width="6rem" selectedKey="{oRoutingHeaderModel>/selectedAltBOM}" items="{ path: 'oRoutingHeaderModel>/aBomNos', templateShareable : true }" change="fnfetchBom" enabled="{oVisibilityModel>/bUnsavedSelectAltBom}" tooltip="{= ${oVisibilityModel>/bUnsavedSelectAltBom} ? '' : ${i18n>bom.selectAltBomUnsaved} }">
                                                    <core:Item key="{oRoutingHeaderModel>AltBom}" text="{oRoutingHeaderModel>AltBom}" />
                                                </ComboBox>
                                                <Label text="{i18n>bom.altGC}" visible="{= ${oVisibilityModel>/bEndUserVisible} &amp;&amp; ${oVisibilityModel>/bProposeQuickAssignBtn}}" tooltip="{i18n>bom.altGC}"/>
                                                <Input width="28px" value="{oVisibilityModel>/sAlternateGrpCntrForProposedML}" change="fnAlternateGrpCntrForProposedML" visible="{= ${oVisibilityModel>/bEndUserVisible} &amp;&amp; ${oVisibilityModel>/bProposeQuickAssignBtn}}" enabled="{oVisibilityModel>/bProposedBtnEnabled}" class="sapUiTinyMarginEnd" />
                                                <!-- Moved to More Btn -->
                                                <Button text="{i18n>bom.cs02}" visible="{oVisibilityModel>/bBOMVisible}" type="Emphasized" press="fnOpenWEBGUICS02" tooltip="{i18n>bom.cs02}" />
                                                <Button icon="sap-icon://refresh" tooltip="{i18n>bom.refresh}" visible="{oVisibilityModel>/bBOMVisible}" type="Emphasized" press="fnRefreshBOMDetails" />
                                                <!-- Moved to More Btn -->
                                                <Button icon="sap-icon://share" tooltip="{i18n>statusT.status}" text="10" visible="{oVisibilityModel>/bBOMVisible}" enabled="{= ${oRoutingHeaderModel>/BOM/BomStatus} === '11' || ${oRoutingHeaderModel>/BOM/BomStatus} === '12'}" type="Accept" press="fnValidOrSaveBOM($event, 'status')" />
                                                <Button icon="sap-icon://save" tooltip="{i18n>bom.save}" text="11" visible="{oVisibilityModel>/bBOMVisible}" type="Accept" press="fnValidOrSaveBOM($event, 'save')" enabled="{oVisibilityModel>/bBOMSplitBtnEnabled}" />
                                                <Button icon="sap-icon://validate" tooltip="{i18n>bom.validate}" text="12" visible="{oVisibilityModel>/bBOMVisible}" type="Accept" press="fnValidOrSaveBOM($event, 'validate')" enabled="{oVisibilityModel>/bBOMSplitBtnEnabled}" />
                                                <Button text="{i18n>Reuse.ReuseBtnTxt}" type="Emphasized" press="fnGoToReuseBOM" icon="sap-icon://forward" tooltip="{i18n>Reuse.ReuseBtnTxt}" visible="{oVisibilityModel>/bEndUserVisib.le}" />
                                                <Button icon="sap-icon://forward" text="{oVisibilityModel>/sMM01BtnName}" type="Emphasized" press="fnOpenWEBGUIIPPS($event, 'MM01')"/>
                                            </Toolbar>
                                        </headerToolbar>
                                        <content>
                                            <FormattedText htmlText="{oRoutingHeaderModel>/noBomText}" visible="{oVisibilityModel>/bBOMVisible}" class="sapUiSmallMarginBegin" />
                                            <ScrollContainer horizontal="false" vertical="true" focusable="false" height="65px">
                                                <grid:CSSGrid visible="{oVisibilityModel>/bBOMVisible}" gridTemplateColumns="repeat(auto-fill, 155px)" gridGap="1rem" class="sapUiTinyMargin">
                                                    <VBox visible="false">
                                                        <Label text="{i18n>bom.bomgroup}" tooltip="{i18n>bom.bomgroup}" />
                                                        <Text text="{oRoutingHeaderModel>/BOM/BomGroup}" class="sapUiTinyMarginTop" />
                                                    </VBox>
                                                    <VBox>
                                                        <Label text="{i18n>bom.plant}" tooltip="{i18n>bom.plant}" />
                                                        <Text text="{oRoutingHeaderModel>/BOM/Plant}" class="sapUiTinyMarginTop" />
                                                    </VBox>
                                                    <VBox>
                                                        <Label text="{i18n>bom.bomusage}" tooltip="{i18n>bom.bomusage}" />
                                                        <Text text="{oRoutingHeaderModel>/BOM/BomUsage}" class="sapUiTinyMarginTop" />
                                                    </VBox>
                                                    <VBox visible="false">
                                                        <Label text="{i18n>bom.alternativebom}" tooltip="{i18n>bom.alternativebom}" />
                                                        <Text text="{oRoutingHeaderModel>/BOM/AltBom}" class="sapUiTinyMarginTop" />
                                                    </VBox>
                                                    <VBox>
                                                        <Label text="{i18n>bom.status}" tooltip="{i18n>bom.status}" />
                                                        <Text id="iBomStatus" text="{oRoutingHeaderModel>/BOM/BomStatus}" class="sapUiTinyMarginTop" />
                                                    </VBox>
                                                    <VBox>
                                                        <Label text="{i18n>bom.changenumber}" tooltip="{i18n>bom.changenumber}" />
                                                        <Text text="{oRoutingHeaderModel>/BOM/ChgNo}" class="sapUiTinyMarginTop" />
                                                    </VBox>
                                                </grid:CSSGrid>
                                            </ScrollContainer>
                                        </content>
                                    </Panel>
                                    <OverflowToolbar width="100%" design="Solid" class="rctoolbarbgcolor">
                                        <content>
                                            <Button type="Emphasized" icon="sap-icon://business-objects-explorer" text="{i18n>proposal.BtnTxt}" press="fnProposedBOMDailogOpen" visible="false" enabled="{oVisibilityModel>/bProposedBtnEnabled}" tooltip="{oVisibilityModel>/bProposedBtnEnabledTooltip}" />
                                            <Button type="Emphasized" iconFirst="true" icon="sap-icon://action-settings" press="fnProposeAssignSrcSetting" visible="{= ${oVisibilityModel>/bEndUserVisible} &amp;&amp; ${oVisibilityModel>/bProposeQuickAssignBtn}}" enabled="{oVisibilityModel>/bProposedBtnEnabled}" tooltip="{i18n>proposal.propCompSrcSettingBtnTooltip}" />
                                            <Button type="Emphasized" iconFirst="true" icon="sap-icon://business-objects-explorer" text="{i18n>proposal.propquickassignBtnText}" press="fnProposeQuickAssign" visible="{= ${oVisibilityModel>/bEndUserVisible} &amp;&amp; ${oVisibilityModel>/bProposeQuickAssignBtn}}" enabled="{oVisibilityModel>/bProposedBtnEnabled}" tooltip="{oVisibilityModel>/bProposedBtnEnabledTooltip}" />
                                            <Button type="Emphasized" iconFirst="true" icon="sap-icon://business-objects-explorer" text="{i18n>aspl.BtnName}" press="fnProposeQuickAssign($event,'ASPR')" tooltip="{oVisibilityModel>/bProposedBtnEnabledTooltip}" enabled="{= ${oRoutingHeaderModel>/BOM/BomStatus} === '10'}" visible="{oVisibilityModel>/bASPLASPRVisible}"/>
                                            <Button text="{i18n>ApplyRuleSetBtn}" type="Emphasized" press="fnMARSRuleSetSelection" tooltip="{i18n>ApplyRuleSetBtn}" />
                                            <Button type="Emphasized" iconFirst="true" text="{i18n>proposal.allocselectedcompBtnText}" visible="{= ${oVisibilityModel>/bEndUserVisible} &amp;&amp; ${oVisibilityModel>/bProposeAllocateBtnVisible}}" enabled="{oVisibilityModel>/bAllocateSelectedCompEnable}" press="fnProposeQuickAssignSelectedComp" />
                                            <Button type="Emphasized" iconFirst="true" text="{i18n>proposal.allocbycatBtnText}" press="fnProposeQuickAssignAllocByCategory" visible="{= ${oVisibilityModel>/bEndUserVisible} &amp;&amp; ${oVisibilityModel>/bProposeAllocateBtnVisible}}">
                                                <dependents>
                                                    <core:Fragment fragmentName="com.airbus.zcfe2meautorc.fragment.AllocateByCategory" type="XML" />
                                                </dependents>
                                            </Button>
                                            <ToolbarSpacer />
                                            <!-- Assign manually button -->
                                            <Button text="{i18n>bom.assignitemsBtnTxt}" type="Emphasized" width="auto" press="fnBOMItemAssign" enabled="{parts:['oRoutingHeaderModel>/BOM/BomStatus', 'oVisibilityModel>/bProposedBtnEnabled','oVisibilityModel>/bAllocateSelectedCompEnable'],formatter:'.formatter.fnBomStatusTableEnableItemsAssign'}" tooltip="{i18n>bom.assignitemsBtnTxt}" />
                                            <Button type="Reject" icon="sap-icon://delete" press="fnDelAssignOprBtn" enabled="{oVisibilityModel>/bDelComp}" tooltip="{i18n>bom.deallocAsign}" />
                                        </content>
                                    </OverflowToolbar>
                                    <ui:Table id="BOMItemsId" visible="{oVisibilityModel>/bBOMVisible}" width="100%" visibleRowCountMode="Auto" selectionMode="{ path:'oRoutingHeaderModel>/BOM/BomStatus',formatter:'.formatter.fnBomStatusTable'}" enableColumnReordering="true" alternateRowColors="true" class="clsCompareTable" rows="{ path:'oRoutingHeaderModel>/BOM/Items/results', filters:[{path:'Child_indicator',operator:'NE', value1:'X'}] }" rowSelectionChange="fnOnRowSelectionChange" filter="fnClearFilters">
                                        <ui:extension>                                            
                                            <OverflowToolbar width="100%" design="Info">
                                                <HBox class="clsPhantomGlbBtn">
                                                    <Button id="HCollapse" icon="sap-icon://less" press="fnOnAllCollapse" tooltip="{i18n>phantom.allcollapse}" visible="{oVisibilityModel>/sGobalCollapse}" />
                                                    <Button id="HExpand" press="fnOnAllExpand" icon="sap-icon://add" tooltip="{i18n>phantom.allexpand}" visible="{oVisibilityModel>/sGobalExpand}" />
                                                </HBox>
                                                <ToolbarSeparator visible="{oVisibilityModel>/bEndUserVisible}" class="clsToolbarSeparatorClr" />
                                                <Title text="{i18n>bom.items} ({oRoutingHeaderModel>/BOM/Items/results/length})" tooltip="{i18n>bom.items} ({oRoutingHeaderModel>/BOM/Items/results/length})" class="titlebold" />
                                                <ToolbarSeparator visible="{oVisibilityModel>/bEndUserVisible}" class="clsToolbarSeparatorClr" />
                                                <!-- BOM Layout -->
                                                <Button icon="sap-icon://accept" text="{i18n>MainView}" type="Default" press="fnTableMainView" visible="{oVisibilityModel>/bMainViewBtnAcceptVisible}" />
                                                <Button text="{i18n>MainView}" type="Emphasized" press="fnTableMainView" visible="{oVisibilityModel>/bMainViewBtnVisible}" />
                                                <Button icon="sap-icon://accept" text="{i18n>ClassificationView}" type="Default" press="fnTableClassificationView" visible="{oVisibilityModel>/bClassificationViewBtnAcceptVisible}" />
                                                <Button text="{i18n>ClassificationView}" type="Emphasized" press="fnTableClassificationView" visible="{oVisibilityModel>/bClassificationViewBtnVisible}" />
                                                <Button icon="sap-icon://accept" text="{i18n>ViewforRitems}" enabled="true" type="Default" press="fnTableViewforRitems" visible="{oVisibilityModel>/bViewforRitemsBtnAcceptVisible}" />
                                                <Button text="{i18n>ViewforRitems}" enabled="true" type="Emphasized" press="fnTableViewforRitems" visible="{oVisibilityModel>/bViewforRitemsBtnVisible}" />
                                                <ToolbarSpacer />
                                                <Button id="idAddBOM" icon="sap-icon://indent" press="fnAddBOMComponent" text="" tooltip="{i18n>bom.AddTooltip}" visible="{oVisibilityModel>/bEndUserVisible}" enabled="{= ${oRoutingHeaderModel>/BOM/BomStatus} === '11' || ${oRoutingHeaderModel>/BOM/BomStatus} === '12'}" type="Emphasized" />
                                                <Button id="idReplaceBOM" icon="sap-icon://journey-change" press="fnReplaceBOMComponent" text="" tooltip="{i18n>bom.ReplaceTitle}" visible="{oVisibilityModel>/bEndUserVisible}" enabled="{= (${oRoutingHeaderModel>/BOM/BomStatus} === '11' || ${oRoutingHeaderModel>/BOM/BomStatus} === '12') &amp;&amp; ${oVisibilityModel>/bAllocateSelectedCompEnable}}" type="Emphasized" />
                                                <ToolbarSeparator visible="{oVisibilityModel>/bEndUserVisible}" class="clsToolbarSeparatorClr" />
                                                <Button icon="sap-icon://clear-filter" tooltip="{i18n>bom.clearfilters}" press="fnClearBOMFilters" type="Emphasized" enabled="{oVisibilityModel>/bClearFilters}" />
                                                <Button icon="sap-icon://settings" tooltip="{i18n>bom.columnsettings}" press="fnOpenPersonalizationDialog" enabled="{ path:'oRoutingHeaderModel>/BOM/BomStatus',formatter:'.formatter.fnBomStatusTableEnable'}" visible="false" />
                                                <!-- Assign manually button -->
                                                <Button text="{i18n>bom.assignitemsBtnTxt}" type="Emphasized" width="auto" press="fnBOMItemAssign" enabled="{parts:['oRoutingHeaderModel>/BOM/BomStatus', 'oVisibilityModel>/bProposedBtnEnabled','oVisibilityModel>/bAllocateSelectedCompEnable'],formatter:'.formatter.fnBomStatusTableEnableItemsAssign'}" tooltip="{i18n>bom.assignitemsBtnTxt}" />
                                                <Button type="Reject" icon="sap-icon://delete" press="fnDelAssignOprBtn" visible="{oVisibilityModel>/bDelComp}" tooltip="{i18n>bom.deallocAsign}" />
                                            </OverflowToolbar>
                                        </ui:extension>
                                        <ui:dragDropConfig>
                                            <dnd:DragInfo sourceAggregation="rows" enabled="{ path:'oRoutingHeaderModel>/BOM/BomStatus',formatter:'.formatter.fnBomStatusTableEnable'}" dragStart="onDragStart" dragEnd="onBOMDragEnd" />
                                        </ui:dragDropConfig>
                                        <ui:rowSettingsTemplate>                    
                                            <ui:RowSettings highlight="{ path:'oRoutingHeaderModel>Comp_level',formatter:'.formatter.fnRowSettingsColor'}" />
                                        </ui:rowSettingsTemplate>
                                        <ui:columns>
                                            <!-- BOM phantom parts expand/collapse column  -->
                                            <ui:Column width="3rem">
                                                <ui:template>
                                                    <HBox>
                                                        <Button id="expand" icon="sap-icon://add" press="fnOnExpand" tooltip="{i18n>phantom.expand}" visible="{parts:['oRoutingHeaderModel>bChild','oRoutingHeaderModel>Phantom_indicator', 'oRoutingHeaderModel>Phantom_expand_collapse'],formatter:'.formatter.fnReturnExpandVisible'}" />
                                                        <Button id="collapse" icon="sap-icon://less" press="fnOnCollapse" tooltip="{i18n>phantom.collapse}" visible="{parts:['oRoutingHeaderModel>bChild','oRoutingHeaderModel>Phantom_indicator', 'oRoutingHeaderModel>Phantom_expand_collapse'],formatter:'.formatter.fnReturnCollapseVisible'}" />
                                                    </HBox>
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM phantom parts level column  -->
                                            <ui:Column width="auto">
                                                <Label text="{i18n>phantom.level}" wrapping="true" tooltip="{i18n>phantom.leveltool}" />
                                                <ui:template>
                                                    <Text text="{oRoutingHeaderModel>Comp_level}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM Item no column  -->
                                            <ui:Column width="6rem" resizable="false" filterProperty="ItemNo" sortProperty="ItemNo" sorted="true">
                                                <Label text="{i18n>bom.itemno}" wrapping="true" tooltip="{i18n>bom.itemnotool}" />
                                                <ui:template>
                                                    <Text text="{oRoutingHeaderModel>ItemNo}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM Effectivity column  -->
                                            <ui:Column width="4rem" visible="{=${oRoutingHeaderModel>/BOM/BomStatus} === '11' || ${oRoutingHeaderModel>/BOM/BomStatus} === '12'}" resizable="false">
                                                <ui:template>
                                                    <HBox>
                                                        <core:Icon src="sap-icon://upstacked-chart" tooltip="{i18n>mody.EffectBtnBOM}" class="clsModify" press="fnOnPressBOMarea" visible="{=${oRoutingHeaderModel>DepLink} === ''|| ${oRoutingHeaderModel>DepLink} === '000000000000000000'}" />
                                                        <core:Icon src="sap-icon://upstacked-chart" press="fnOnPressBOMarea" tooltip="{i18n>mody.EffectBtnBOM}" class="clsModifyYellow" visible="{= ${oRoutingHeaderModel>DepLink} !== '' &amp;&amp; ${oRoutingHeaderModel>DepLink} !== '000000000000000000'}" />
                                                    </HBox>
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM Operation column  -->
                                            <ui:Column width="6rem" resizable="false" filterProperty="Vornr" sortProperty="Vornr">
                                                <Label text="{i18n>bom.operationno}" wrapping="true" tooltip="{i18n>bom.operationnotool}" />
                                                <ui:template>
                                                    <HBox>
                                                        <HBox>
                                                            <ObjectStatus text="{oRoutingHeaderModel>Vornr}" state="Warning" />
                                                        </HBox>
                                                        <HBox class="sapUiSmallMarginBegin">
                                                            <core:Icon src="sap-icon://decline" class="sapUiSmallMarginBegin cursorChange" color="#50655E" press="fnDelAssignOprIcon" tooltip="{i18n>bom.deallocAsignIcon}" visible="{path :'oRoutingHeaderModel>Vornr', formatter:'.formatter.fnDelCompVisible'}" />
                                                        </HBox>
                                                    </HBox>
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM Operation proposal column  -->
                                            <ui:Column width="6rem" visible="{oVisibilityModel>/bProposeAllocateBtnVisible}">
                                                <Label text="{i18n>proposal.proposal}" wrapping="true" tooltip="{i18n>proposal.proposal}" />
                                                <ui:template>
                                                    <HBox alignContent="Center" alignItems="Center">
                                                        <tnt:InfoLabel class="clsInfoLbl" text="{parts:['oRoutingHeaderModel>Colr_Status','oRoutingHeaderModel>New_Comp_Ind', 'oRoutingHeaderModel>Vornr_c'],formatter:'.formatter.fnReturnProposedOprText'}" renderMode="Narrow" colorScheme="{oRoutingHeaderModel>Colr_Status}" visible="{= ${oRoutingHeaderModel>Colr_Status} === 0 ? false : true}" displayOnly="{= ${oRoutingHeaderModel>Colr_Status} === 9 ? true : false}" />
                                                        <!-- GGUNO6VD : New Component Allocation -->
                                                        <tnt:InfoLabel class="clsInfoLbl" text="{parts:['oRoutingHeaderModel>Colr_Status','oRoutingHeaderModel>New_Comp_Ind', 'oRoutingHeaderModel>Vornr_c'],formatter:'.formatter.fnReturnProposedOprText'}" renderMode="Narrow" visible="{= ${oRoutingHeaderModel>New_Comp_Ind} === 'X' &amp;&amp; ${oRoutingHeaderModel>Colr_Status} === 0  }" displayOnly="{= ${oRoutingHeaderModel>New_Comp_Ind} === 'X' &amp;&amp; ${oRoutingHeaderModel>Colr_Status} === 0  }" />
                                                        <core:Icon src="sap-icon://feeder-arrow" press="fnProposedOprArrow" class="clsProposedArrow" tooltip="{i18n>cat.QuestionMarktooltip}" visible="{= ${oRoutingHeaderModel>Multi_Prio} === 'X' ? true : false}">
                                                            <core:layoutData>
                                                                <FlexItemData growFactor="1" />
                                                            </core:layoutData>
                                                        </core:Icon>
                                                        <!-- GGUNO6VD : New Component Allocation -->
                                                        <core:Icon src="sap-icon://process" press="fnProposedOprArrowNewComp" class="clsProposedArrow" tooltip="{i18n>cat.QuestionMarktooltip}" visible="{= ${oRoutingHeaderModel>New_Comp_Ind} === 'X' ? true : false}">
                                                            <core:layoutData>
                                                                <FlexItemData growFactor="1" />
                                                            </core:layoutData>
                                                        </core:Icon>
                                                        <customData>
                                                            <core:CustomData key="sourceItemCatKey" value="{path :'oRoutingHeaderModel>New_Comp_Ind', formatter:'.formatter.fnSourceColorUpdate'}" writeToDom="true" />
                                                        </customData>
                                                    </HBox>
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM Operation proposal no.of allocation column  -->
                                            <ui:Column width="6.5rem" visible="{oVisibilityModel>/bProposeAllocateBtnVisible}">
                                                <Label text="{i18n>proposal.numberofAlloc}" wrapping="true" tooltip="{i18n>proposal.numberofAlloc}" />
                                                <ui:template>
                                                    <HBox>
                                                        <Text text="{oRoutingHeaderModel>AllocNo}" />
                                                        <customData>
                                                            <core:CustomData key="sourceItemCatKey" value="{path :'oRoutingHeaderModel>New_Comp_Ind', formatter:'.formatter.fnSourceColorUpdate'}" writeToDom="true" />
                                                        </customData>
                                                    </HBox>
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM Part number column  -->
                                            <ui:Column width="13.5rem" filterProperty="Component" sortProperty="Component">
                                                <Label text="{i18n>bom.partno}" wrapping="true" tooltip="{i18n>bom.partno}" />
                                                <ui:template>
                                                    <HBox class="hboxleftalign">
                                                        <HBox class="sapUiTinyMarginTop">
                                                            <Text text="{oRoutingHeaderModel>Component}" maxLines="2" />
                                                        </HBox>
                                                        <HBox class="sapUiTinyMarginBegin">
                                                            <core:Icon class="copybtn sapUiTinyMarginTop" src="sap-icon://copy" tooltip="{i18n>mini.copy}" press="fnOnCopyMini" visible="{path :'oRoutingHeaderModel>Component', formatter:'.formatter.fnCopyVisible'}" />
                                                            <Button icon="sap-icon://forward" type="Emphasized" class="sapUiTinyMarginBegin" tooltip="{i18n>Nav.MM03}" press="fnOpenWEBGUIMM03($event, 'BOM')" visible="{parts:[{path:'oRoutingHeaderModel>Component'},{ path:'oRoutingHeaderModel>ItemCateg'}],formatter:'.formatter.fnMM03BOMVisible'}" />
                                                        </HBox>
                                                    </HBox>
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM component description column  -->
                                            <ui:Column width="13rem" filterProperty="CompDesc" sortProperty="CompDesc">
                                                <Label text="{i18n>bom.componentdescription}" wrapping="true" tooltip="{i18n>bom.componentdescription}" />
                                                <ui:template>
                                                    <Text id="BomCompDesc" text="{oRoutingHeaderModel>CompDesc}" tooltip="{oRoutingHeaderModel>CompDesc}" wrapping="false"  />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM Quantity column  -->
                                            <ui:Column width="5rem" resizable="false" filterProperty="Component_qty" sortProperty="Component_qty">
                                                <Label text="{i18n>bom.quantity}" wrapping="true" tooltip="{i18n>bom.quantitytool}" />
                                                <ui:template>
                                                    <Text text="{parts:[{path:'oRoutingHeaderModel>Component_qty'}],formatter:'.formatter.fnFormatBomQty'}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM Split & combine Quantity column  -->
                                            <ui:Column width="5rem" resizable="false">
                                                <Label tooltip="Split Button" />
                                                <ui:template>
                                                    <HBox>
                                                        <Button icon="sap-icon://split" type="Emphasized" enabled="{oVisibilityModel>/bBOMSplitBtnEnabled}"  tooltip="{= ${oVisibilityModel>/bBOMSplitBtnEnabled} ? ${i18n>bom.splitQty} : ${i18n>bom.splitQtyDisable}}" class="sapUiTinyMarginEnd" visible="{parts:[{path:'oRoutingHeaderModel>bChild'},{path:'oRoutingHeaderModel>Child_indicator'},{path:'oRoutingHeaderModel>Comp_level'}],formatter:'.formatter.fnQntSplitIconVisibility'}" press="fnOnRowSplit" />
                                                        <Button id="idSplitBtn" icon="sap-icon://combine" enabled="{oVisibilityModel>/bBOMSplitBtnEnabled}" type="{= ${oRoutingHeaderModel>bBomCombineChange} ? 'Reject' : 'Emphasized'}" tooltip="{= ${oRoutingHeaderModel>bBomCombineChange} &amp;&amp; ${oVisibilityModel>/bBOMSplitBtnEnabled} ? ${i18n>merge.warn} : ${oVisibilityModel>/bBOMSplitBtnEnabled} === false ? ${i18n>bom.splitQtyDisable} : ${i18n>merge.qty}}" visible="{parts:[{path:'oRoutingHeaderModel>bChild'},{path:'oRoutingHeaderModel>bShowMergeBtn'},{path:'oRoutingHeaderModel>Child_indicator'},{path:'oRoutingHeaderModel>Comp_level'}],formatter:'.formatter.fnQntMergeIconVisibility'}" press="fnOnRowCombine" />
                                                        <Button id="idDeclineBtn" icon="sap-icon://decline" enabled="{oVisibilityModel>/bBOMSplitBtnEnabled}" type="Reject" tooltip="{= ${oVisibilityModel>/bBOMSplitBtnEnabled} ? ${i18n>bom.removeQty} : ${i18n>bom.splitQtyDisable}}" visible="{parts:[{path:'oRoutingHeaderModel>bChild'}],formatter:'.formatter.fnQntDelIconVisibility'}" press="fnOnRowActionDel" />
                                                    </HBox>
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM Unit column  -->
                                            <ui:Column width="5rem" resizable="false" filterProperty="CompUnit" sortProperty="CompUnit">
                                                <Label text="{i18n>bom.unit}" wrapping="true" tooltip="{i18n>bom.unittool}" />
                                                <ui:template>
                                                    <Text text="{oRoutingHeaderModel>CompUnit}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM Item Category column  -->
                                            <ui:Column width="8rem" resizable="false" filterProperty="ItemCateg" sortProperty="ItemCateg">
                                                <Label text="{i18n>bom.itemcategory}" wrapping="true" tooltip="{i18n>bom.itemcategorytool}" />
                                                <ui:template>
                                                    <HBox>
                                                        <Text text="{oRoutingHeaderModel>ItemCateg}" />
                                                        <customData>
                                                            <core:CustomData key="sourceItemCatKey" value="{path :'oRoutingHeaderModel>ItemCateg', formatter:'.formatter.fnSourceColorUpdateItmCat'}" writeToDom="true" />
                                                        </customData>
                                                    </HBox>
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM Item test2 column  -->
                                            <ui:Column width="14rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bMainViewColumnVisible}}" filterProperty="ItemText2" sortProperty="ItemText2">
                                                <Label text="{i18n>bom.itemtext2}" wrapping="true" tooltip="{i18n>bom.itemtext2}" />
                                                <ui:template>
                                                    <Text text="{oRoutingHeaderModel>ItemText2}" tooltip="{oRoutingHeaderModel>ItemText2}" wrapping="false"  />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM Item test1 column  -->
                                            <ui:Column width="14rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bMainViewColumnVisible}}" filterProperty="ItemText1" sortProperty="ItemText1">
                                                <Label text="{i18n>bom.itemtext1}" wrapping="true" tooltip="{i18n>bom.itemtext1}" />
                                                <ui:template>
                                                    <Text text="{oRoutingHeaderModel>ItemText1}" wrapping="false" tooltip="{oRoutingHeaderModel>ItemText1}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM relevance to cost column  -->
                                            <ui:Column width="3rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bMainViewColumnVisible}}" resizable="false" filterProperty="RelCost" sortProperty="RelCost" hAlign="Center">
                                                <Label text="{i18n>bom.relevancetocosting}" wrapping="true" tooltip="{i18n>bom.relevancetocostingtool}" class=".clsCntr" />
                                                <ui:template>
                                                    <Text text="{oRoutingHeaderModel>RelCost}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM bulk marker column  -->
                                            <ui:Column width="8rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bMainViewColumnVisible}}" resizable="false" filterProperty="BulkMat" sortProperty="BulkMat">
                                                <Label text="{i18n>bom.bulkmaterial}" wrapping="true" tooltip="{i18n>bom.bulkmaterialtool}" />
                                                <ui:template>
                                                    <HBox justifyContent="Center" alignContent="Center" alignItems="Center">
                                                        <CheckBox selected="{oRoutingHeaderModel>BulkMat}" editable="false" />
                                                    </HBox>
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM Key word column  -->
                                            <ui:Column width="8rem" visible="{oVisibilityModel>/bMainViewColumnVisible}" resizable="false" filterProperty="Keyword" sortProperty="Keyword">
                                                <Label text="{i18n>bom.keyword}" wrapping="true" tooltip="{i18n>bom.keyword}" />
                                                <ui:template>
                                                    <Text text="{oRoutingHeaderModel>Keyword}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM Parameter1 column  -->
                                            <ui:Column width="8rem" visible="{oVisibilityModel>/bMainViewColumnVisible}" resizable="false" filterProperty="Parameter1" sortProperty="Parameter1">
                                                <Label text="{i18n>bom.parameter1}" wrapping="true" tooltip="{i18n>bom.parameter1}" />
                                                <ui:template>
                                                    <Text text="{oRoutingHeaderModel>Parameter1}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM Parameter2 column  -->
                                            <ui:Column width="8rem" visible="{oVisibilityModel>/bMainViewColumnVisible}" resizable="false" filterProperty="Parameter2" sortProperty="Parameter2">
                                                <Label text="{i18n>bom.parameter2}" wrapping="true" tooltip="{i18n>bom.parameter2}" />
                                                <ui:template>
                                                    <Text text="{oRoutingHeaderModel>Parameter2}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM Parameter3 column  -->
                                            <ui:Column width="8rem" visible="{oVisibilityModel>/bMainViewColumnVisible}" resizable="false" filterProperty="Parameter3" sortProperty="Parameter3">
                                                <Label text="{i18n>bom.parameter3}" wrapping="true" tooltip="{i18n>bom.parameter3}" />
                                                <ui:template>
                                                    <HBox>
                                                        <Text text="{oRoutingHeaderModel>Parameter3}" visible="{parts:[{path:'oRoutingHeaderModel>Parameter3'}],formatter:'.formatter.fnToDifferBetweenParameter3'}" />
                                                        <Link text="{i18n>bom.Parameter3Multiple}" press="fnSeeMoreParameter3" visible="{parts:[{path:'oRoutingHeaderModel>Parameter3_Multiple'}],formatter:'.formatter.fnToDifferBetweenParameter3Multiple'}" />
                                                    </HBox>
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM Bulk material column  -->
                                            <ui:Column width="8rem" visible="{= ${oVisibilityModel>/bExpaalignItemsndBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bMainViewColumnVisible}}" resizable="false">
                                                <Label text="{i18n>bom.bulkmaterialinMM}" wrapping="true" tooltip="{i18n>bom.bulkmaterialinMMtool}" />
                                                <ui:template>
                                                    <HBox justifyContent="Center" alignContent="Center" alignItems="Center">
                                                        <CheckBox text="" editable="false" />
                                                    </HBox>
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM variable size1 column  -->
                                            <ui:Column width="6rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bMainViewColumnVisible}}" resizable="false" filterProperty="VsiSize1" sortProperty="VsiSize1">
                                                <Label text="{i18n>bom.varsize1}" wrapping="true" tooltip="{i18n>bom.varsize1tool}" />
                                                <ui:template>
                                                    <Text text="{parts:[{path:'oRoutingHeaderModel>VsiSize1'}],formatter:'.formatter.fnGetFormattedNumeric'}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM variable size2 column  -->
                                            <ui:Column width="6rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bMainViewColumnVisible}}" resizable="false" filterProperty="VsiSize2" sortProperty="VsiSize2">
                                                <Label text="{i18n>bom.varsize2}" wrapping="true" tooltip="{i18n>bom.varsize2tool}" />
                                                <ui:template>
                                                    <Text text="{parts:[{path:'oRoutingHeaderModel>VsiSize2'}],formatter:'.formatter.fnGetFormattedNumeric'}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM variable size3 column  -->
                                            <ui:Column width="6rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bMainViewColumnVisible}}" resizable="false" filterProperty="VsiSize3" sortProperty="VsiSize3">
                                                <Label text="{i18n>bom.varsize3}" wrapping="true" tooltip="{i18n>bom.varsize3tool}" />
                                                <ui:template>
                                                    <Text text="{parts:[{path:'oRoutingHeaderModel>VsiSize3'}],formatter:'.formatter.fnGetFormattedNumeric'}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM Component Unit column  -->
                                            <ui:Column width="5rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bMainViewColumnVisible}}" resizable="false" filterProperty="VsiSzunit" sortProperty="VsiSzunit">
                                                <Label text="{i18n>bom.componentunit}" wrapping="true" tooltip="{i18n>bom.componentunittool}" />
                                                <ui:template>
                                                    <Text text="{oRoutingHeaderModel>VsiSzunit}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM No.of variable size item column  -->
                                            <ui:Column width="5rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bMainViewColumnVisible}}" resizable="false" filterProperty="VsiNo" sortProperty="VsiNo">
                                                <Label text="{i18n>bom.noofvarsizeitems}" wrapping="true" tooltip="{i18n>bom.noofvarsizeitemstool}" />
                                                <ui:template>
                                                    <Text text="{parts:[{path:'oRoutingHeaderModel>VsiNo'}],formatter:'.formatter.fnGetFormattedNumeric'}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM formula key column  -->
                                            <ui:Column width="6rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bMainViewColumnVisible}}" resizable="false" filterProperty="VsiFormul" sortProperty="VsiFormul">
                                                <Label text="{i18n>bom.formulakey}" wrapping="true" tooltip="{i18n>bom.formulakey}" />
                                                <ui:template>
                                                    <Text text="{oRoutingHeaderModel>VsiFormul}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM quantity of varsize item column  -->
                                            <ui:Column width="8rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bMainViewColumnVisible}}" resizable="false" filterProperty="VsiQty" sortProperty="VsiQty">
                                                <Label text="{i18n>bom.quantityofvarsizeitem}" wrapping="true" tooltip="{i18n>bom.quantityofvarsizeitemtool}" />
                                                <ui:template>
                                                    <Text text="{parts:[{path:'oRoutingHeaderModel>VsiQty'}],formatter:'.formatter.fnGetFormattedNumeric'}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM Classification View column-->
                                            <ui:Column width="8rem" visible="{oVisibilityModel>/bClassificationViewColumnVisible}" resizable="false" filterProperty="Keyword" sortProperty="Keyword">
                                                <Label text="{i18n>bom.keyword}" wrapping="true" tooltip="{i18n>bom.keyword}" />
                                                <ui:template>
                                                    <Text text="{oRoutingHeaderModel>Keyword}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM parameter1 column-->
                                            <ui:Column width="8rem" visible="{oVisibilityModel>/bClassificationViewColumnVisible}" resizable="false" filterProperty="Parameter1" sortProperty="Parameter1">
                                                <Label text="{i18n>bom.parameter1}" wrapping="true" tooltip="{i18n>bom.parameter1}" />
                                                <ui:template>
                                                    <Text text="{oRoutingHeaderModel>Parameter1}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM parameter2 column-->
                                            <ui:Column width="8rem" visible="{oVisibilityModel>/bClassificationViewColumnVisible}" resizable="false" filterProperty="Parameter2" sortProperty="Parameter2">
                                                <Label text="{i18n>bom.parameter2}" wrapping="true" tooltip="{i18n>bom.parameter2}" />
                                                <ui:template>
                                                    <Text text="{oRoutingHeaderModel>Parameter2}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM parameter3 column-->
                                            <ui:Column width="8rem" visible="{oVisibilityModel>/bClassificationViewColumnVisible}" resizable="false" filterProperty="Parameter3" sortProperty="Parameter3">
                                                <Label text="{i18n>bom.parameter3}" wrapping="true" tooltip="{i18n>bom.parameter3}" />
                                                <ui:template>
                                                    <HBox>
                                                        <Text text="{oRoutingHeaderModel>Parameter3}" visible="{parts:[{path:'oRoutingHeaderModel>Parameter3'}],formatter:'.formatter.fnToDifferBetweenParameter3'}" />
                                                        <Link text="{i18n>bom.Parameter3Multiple}" press="fnSeeMoreParameter3" visible="{parts:[{path:'oRoutingHeaderModel>Parameter3_Multiple'}],formatter:'.formatter.fnToDifferBetweenParameter3Multiple'}" />
                                                    </HBox>
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM item text2 column-->
                                            <ui:Column width="14rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bClassificationViewColumnVisible}}" filterProperty="ItemText2" sortProperty="ItemText2">
                                                <Label text="{i18n>bom.itemtext2}" wrapping="true" tooltip="{i18n>bom.itemtext2}" />
                                                <ui:template>
                                                    <Text text="{oRoutingHeaderModel>ItemText2}" maxLines="2" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM item text1 column-->
                                            <ui:Column width="14rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bClassificationViewColumnVisible}}" filterProperty="ItemText1" sortProperty="ItemText1">
                                                <Label text="{i18n>bom.itemtext1}" wrapping="true" tooltip="{i18n>bom.itemtext1}" />
                                                <ui:template>
                                                    <Text text="{oRoutingHeaderModel>ItemText1}" maxLines="2" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM Relavence to cost column-->
                                            <ui:Column width="3rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bClassificationViewColumnVisible}}" resizable="false" filterProperty="RelCost" sortProperty="RelCost" hAlign="Center" vAlign="Middle">
                                                <Label text="{i18n>bom.relevancetocosting}" wrapping="true" tooltip="{i18n>bom.relevancetocostingtool}" class=".clsCntr" />
                                                <ui:template>
                                                    <Text text="{oRoutingHeaderModel>RelCost}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM Bulk material column-->
                                            <ui:Column width="8rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bClassificationViewColumnVisible}}" resizable="false" filterProperty="BulkMat" sortProperty="BulkMat">
                                                <Label text="{i18n>bom.bulkmaterial}" wrapping="true" tooltip="{i18n>bom.bulkmaterialtool}" />
                                                <ui:template>
                                                    <HBox justifyContent="Center" alignContent="Center" alignItems="Center">
                                                        <CheckBox selected="{oRoutingHeaderModel>BulkMat}" editable="false" />
                                                    </HBox>
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM bulk material in MM column-->
                                            <ui:Column width="8rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bClassificationViewColumnVisible}}" resizable="false">
                                                <Label text="{i18n>bom.bulkmaterialinMM}" wrapping="true" tooltip="{i18n>bom.bulkmaterialinMMtool}" />
                                                <ui:template>
                                                    <HBox justifyContent="Center" alignContent="Center" alignItems="Center">
                                                        <CheckBox text="" editable="false" />
                                                    </HBox>
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM variable size1 column-->
                                            <ui:Column width="6rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bClassificationViewColumnVisible}}" resizable="false" filterProperty="VsiSize1" sortProperty="VsiSize1">
                                                <Label text="{i18n>bom.varsize1}" wrapping="true" tooltip="{i18n>bom.varsize1tool}" />
                                                <ui:template>
                                                    <Text text="{parts:[{path:'oRoutingHeaderModel>VsiSize1'}],formatter:'.formatter.fnGetFormattedNumeric'}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM variable size2 column-->
                                            <ui:Column width="6rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bClassificationViewColumnVisible}}" resizable="false" filterProperty="VsiSize2" sortProperty="VsiSize2">
                                                <Label text="{i18n>bom.varsize2}" wrapping="true" tooltip="{i18n>bom.varsize2tool}" />
                                                <ui:template>
                                                    <Text text="{parts:[{path:'oRoutingHeaderModel>VsiSize2'}],formatter:'.formatter.fnGetFormattedNumeric'}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM variable size3 column-->
                                            <ui:Column width="6rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bClassificationViewColumnVisible}}" resizable="false" filterProperty="VsiSize3" sortProperty="VsiSize3">
                                                <Label text="{i18n>bom.varsize3}" wrapping="true" tooltip="{i18n>bom.varsize3tool}" />
                                                <ui:template>
                                                    <Text text="{parts:[{path:'oRoutingHeaderModel>VsiSize3'}],formatter:'.formatter.fnGetFormattedNumeric'}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM component unit column-->
                                            <ui:Column width="5rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bClassificationViewColumnVisible}}" resizable="false" filterProperty="VsiSzunit" sortProperty="VsiSzunit">
                                                <Label text="{i18n>bom.componentunit}" wrapping="true" tooltip="{i18n>bom.componentunittool}" />
                                                <ui:template>
                                                    <Text text="{oRoutingHeaderModel>VsiSzunit}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM no.of varsize items column-->
                                            <ui:Column width="5rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bClassificationViewColumnVisible}}" resizable="false" filterProperty="VsiNo" sortProperty="VsiNo">
                                                <Label text="{i18n>bom.noofvarsizeitems}" wrapping="true" tooltip="{i18n>bom.noofvarsizeitemstool}" />
                                                <ui:template>
                                                    <Text text="{parts:[{path:'oRoutingHeaderModel>VsiNo'}],formatter:'.formatter.fnGetFormattedNumeric'}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM formula key column-->
                                            <ui:Column width="6rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bClassificationViewColumnVisible}}" resizable="false" filterProperty="VsiFormul" sortProperty="VsiFormul">
                                                <Label text="{i18n>bom.formulakey}" wrapping="true" tooltip="{i18n>bom.formulakey}" />
                                                <ui:template>
                                                    <Text text="{oRoutingHeaderModel>VsiFormul}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM quantity of variable size item column -->
                                            <ui:Column width="8rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bClassificationViewColumnVisible}}" resizable="false" filterProperty="VsiQty" sortProperty="VsiQty">
                                                <Label text="{i18n>bom.quantityofvarsizeitem}" wrapping="true" tooltip="{i18n>bom.quantityofvarsizeitemtool}" />
                                                <ui:template>
                                                    <Text text="{parts:[{path:'oRoutingHeaderModel>VsiQty'}],formatter:'.formatter.fnGetFormattedNumeric'}" />
                                                </ui:template>
                                            </ui:Column>

                                            <!-- BOM View for R-Items -->
                                            <ui:Column width="6rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bViewforRitemsColumnVisible}}" resizable="false" filterProperty="VsiSize1" sortProperty="VsiSize1">
                                                <Label text="{i18n>bom.varsize1}" wrapping="true" tooltip="{i18n>bom.varsize1tool}" />
                                                <ui:template>
                                                    <Text text="{parts:[{path:'oRoutingHeaderModel>VsiSize1'}],formatter:'.formatter.fnGetFormattedNumeric'}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM variable size2 column-->
                                            <ui:Column width="6rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bViewforRitemsColumnVisible}}" resizable="false" filterProperty="VsiSize2" sortProperty="VsiSize2">
                                                <Label text="{i18n>bom.varsize2}" wrapping="true" tooltip="{i18n>bom.varsize2tool}" />
                                                <ui:template>
                                                    <Text text="{parts:[{path:'oRoutingHeaderModel>VsiSize2'}],formatter:'.formatter.fnGetFormattedNumeric'}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM variable size3 column-->
                                            <ui:Column width="6rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bViewforRitemsColumnVisible}}" resizable="false" filterProperty="VsiSize3" sortProperty="VsiSize3">
                                                <Label text="{i18n>bom.varsize3}" wrapping="true" tooltip="{i18n>bom.varsize3tool}" />
                                                <ui:template>
                                                    <Text text="{parts:[{path:'oRoutingHeaderModel>VsiSize3'}],formatter:'.formatter.fnGetFormattedNumeric'}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM component unit column-->
                                            <ui:Column width="5rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bViewforRitemsColumnVisible}}" resizable="false" filterProperty="VsiSzunit" sortProperty="VsiSzunit">
                                                <Label text="{i18n>bom.componentunit}" wrapping="true" tooltip="{i18n>bom.componentunittool}" />
                                                <ui:template>
                                                    <Text text="{oRoutingHeaderModel>VsiSzunit}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM no.of variable size items column-->
                                            <ui:Column width="5rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bViewforRitemsColumnVisible}}" resizable="false" filterProperty="VsiNo" sortProperty="VsiNo">
                                                <Label text="{i18n>bom.noofvarsizeitems}" wrapping="true" tooltip="{i18n>bom.noofvarsizeitemstool}" />
                                                <ui:template>
                                                    <Text text="{parts:[{path:'oRoutingHeaderModel>VsiNo'}],formatter:'.formatter.fnGetFormattedNumeric'}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM formula key column-->
                                            <ui:Column width="6rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bViewforRitemsColumnVisible}}" resizable="false" filterProperty="VsiFormul" sortProperty="VsiFormul">
                                                <Label text="{i18n>bom.formulakey}" wrapping="true" tooltip="{i18n>bom.formulakey}" />
                                                <ui:template>
                                                    <Text text="{oRoutingHeaderModel>VsiFormul}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM quantity of variable size item column-->
                                            <ui:Column width="8rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bViewforRitemsColumnVisible}}" resizable="false" filterProperty="VsiQty" sortProperty="VsiQty">
                                                <Label text="{i18n>bom.quantityofvarsizeitem}" wrapping="true" tooltip="{i18n>bom.quantityofvarsizeitemtool}" />
                                                <ui:template>
                                                    <Text text="{parts:[{path:'oRoutingHeaderModel>VsiQty'}],formatter:'.formatter.fnGetFormattedNumeric'}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM item text2 column-->
                                            <ui:Column width="14rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bViewforRitemsColumnVisible}}" filterProperty="ItemText2" sortProperty="ItemText2">
                                                <Label text="{i18n>bom.itemtext2}" wrapping="true" tooltip="{i18n>bom.itemtext2}" />
                                                <ui:template>
                                                    <Text text="{oRoutingHeaderModel>ItemText2}" maxLines="2" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM item text1 column-->
                                            <ui:Column width="14rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bViewforRitemsColumnVisible}}" filterProperty="ItemText1" sortProperty="ItemText1">
                                                <Label text="{i18n>bom.itemtext1}" wrapping="true" tooltip="{i18n>bom.itemtext1}" />
                                                <ui:template>
                                                    <Text text="{oRoutingHeaderModel>ItemText1}" maxLines="2" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM relevance to costing column -->
                                            <ui:Column width="3rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bViewforRitemsColumnVisible}}" resizable="false" filterProperty="RelCost" sortProperty="RelCost" hAlign="Center" vAlign="Middle">
                                                <Label text="{i18n>bom.relevancetocosting}" wrapping="true" tooltip="{i18n>bom.relevancetocostingtool}" class=".clsCntr" />
                                                <ui:template>
                                                    <Text text="{oRoutingHeaderModel>RelCost}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM bulk material column -->
                                            <ui:Column width="8rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bViewforRitemsColumnVisible}}" resizable="false" filterProperty="BulkMat" sortProperty="BulkMat">
                                                <Label text="{i18n>bom.bulkmaterial}" wrapping="true" tooltip="{i18n>bom.bulkmaterialtool}" />
                                                <ui:template>
                                                    <HBox justifyContent="Center" alignContent="Center" alignItems="Center">
                                                        <CheckBox selected="{oRoutingHeaderModel>BulkMat}" editable="false" />
                                                    </HBox>
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM key word column -->
                                            <ui:Column width="8rem" visible="{oVisibilityModel>/bViewforRitemsColumnVisible}" resizable="false" filterProperty="Keyword" sortProperty="Keyword">
                                                <Label text="{i18n>bom.keyword}" wrapping="true" tooltip="{i18n>bom.keyword}" />
                                                <ui:template>
                                                    <Text text="{oRoutingHeaderModel>Keyword}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM parameter1 column -->
                                            <ui:Column width="8rem" visible="{oVisibilityModel>/bViewforRitemsColumnVisible}" resizable="false" filterProperty="Parameter1" sortProperty="Parameter1">
                                                <Label text="{i18n>bom.parameter1}" wrapping="true" tooltip="{i18n>bom.parameter1}" />
                                                <ui:template>
                                                    <Text text="{oRoutingHeaderModel>Parameter1}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM parameter2 column -->
                                            <ui:Column width="8rem" visible="{oVisibilityModel>/bViewforRitemsColumnVisible}" resizable="false" filterProperty="Parameter2" sortProperty="Parameter2">
                                                <Label text="{i18n>bom.parameter2}" wrapping="true" tooltip="{i18n>bom.parameter2}" />
                                                <ui:template>
                                                    <Text text="{oRoutingHeaderModel>Parameter2}" />
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM parameter3 column -->
                                            <ui:Column width="8rem" visible="{oVisibilityModel>/bViewforRitemsColumnVisible}" resizable="false" filterProperty="Parameter3" sortProperty="Parameter3">
                                                <Label text="{i18n>bom.parameter3}" wrapping="true" tooltip="{i18n>bom.parameter3}" />
                                                <ui:template>
                                                    <HBox>
                                                        <Text text="{oRoutingHeaderModel>Parameter3}" visible="{parts:[{path:'oRoutingHeaderModel>Parameter3'}],formatter:'.formatter.fnToDifferBetweenParameter3'}" />
                                                        <Link text="{i18n>bom.Parameter3Multiple}" press="fnSeeMoreParameter3" visible="{parts:[{path:'oRoutingHeaderModel>Parameter3_Multiple'}],formatter:'.formatter.fnToDifferBetweenParameter3Multiple'}" />
                                                    </HBox>
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM bulk material in MM column -->
                                            <ui:Column width="8rem" visible="{= ${oVisibilityModel>/bExpandBOMItemsVisible} &amp;&amp; ${oVisibilityModel>/bViewforRitemsColumnVisible}}" resizable="false">
                                                <Label text="{i18n>bom.bulkmaterialinMM}" wrapping="true" tooltip="{i18n>bom.bulkmaterialinMMtool}" />
                                                <ui:template>
                                                    <HBox justifyContent="Center" alignContent="Center" alignItems="Center">
                                                        <CheckBox text="" editable="false" />
                                                    </HBox>
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM recursive column -->
                                            <ui:Column width="3rem" visible="{oVisibilityModel>/bExpandBOMItemsVisible}" resizable="false" filterProperty="Recursive" sortProperty="Recursive">
                                                <Label text="{i18n>bom.recursive}" wrapping="true" tooltip="{i18n>bom.recursivetool}" />
                                                <ui:template>
                                                    <HBox justifyContent="Center" alignContent="Center" alignItems="Center">
                                                        <CheckBox selected="{oRoutingHeaderModel>Recursive}" editable="false" />
                                                    </HBox>
                                                </ui:template>
                                            </ui:Column>
                                            <!-- BOM rec.allowed column -->
                                            <ui:Column width="8rem" visible="{oVisibilityModel>/bExpandBOMItemsVisible}" resizable="false" filterProperty="RecAllowd" sortProperty="RecAllowd">
                                                <Label text="{i18n>bom.recallowed}" wrapping="true" tooltip="{i18n>bom.recallowedtool}" />
                                                <ui:template>
                                                    <HBox justifyContent="Center" alignContent="Center" alignItems="Center">
                                                        <CheckBox selected="{oRoutingHeaderModel>RecAllowd}" editable="false" />
                                                    </HBox>
                                                </ui:template>
                                            </ui:Column>
                                        </ui:columns>
                                        <ui:layoutData>
                                            <FlexItemData growFactor="1" baseSize="0%" />
                                        </ui:layoutData>
                                    </ui:Table>
                                </VBox>
                                <!-- This is vertical bar which splits BOM & Routing area -->
                                <FlexBox id="flexBox" alignItems="Center" class="clsFlexBox">
                                    <VBox>
                                        <core:Icon size="1.5rem" id="bomNavigIcon" class="clsExpandBtnColor" src="sap-icon://navigation-right-arrow" />
                                        <Text text="{i18n>bom.title}" class="clsBomButton" />
                                        <core:Icon size="1.5rem" id="bomNavigIcon1" class="clsExpandBtnColor" src="sap-icon://navigation-right-arrow" />
                                    </VBox>
                                <!-- <core:Icon size="2rem" id="bomNavigIcon" src="sap-icon://navigation-right-arrow" press="fnExpandBOM"/>  -->
                                </FlexBox>
                            </HBox>
                        </Page>
                        <!-- This is right side page for Routing area -->
                        <Page showFooter="false" showHeader="false" enableScrolling="true">
                            <layoutData>
                                <l:SplitterLayoutData size="auto" />
                            </layoutData>
                            <!-- Rotuing fixed header -->
                            <subHeader>
                                <!-- Rotuing header action buttons-->
                                <OverflowToolbar width="95%" design="Solid" class="rctoolbarbgcolor" height="3rem">
                                    <Button id="oButtonRoutingPanel" icon="sap-icon://navigation-down-arrow" type="Default" press="fnExpandCollapseRoutingPanel" visible="true" />
                                    <Button id="oButtonExpandCollapse" icon="sap-icon://drill-down" type="Emphasized" press="fnExpandCollapsePanels" class="sapUiSmallMarginEnd" visible="true" />
                                    <Text text="{i18n>update.routingheader}" wrapping="false" class="bomHeaderCls boldFontCls" tooltip="{i18n>update.routingheader}" />
                                    <ToolbarSeparator />
                                    <Label text="{i18n>routingheader.groupno}" class="sapUiSmallMarginBegin" tooltip="{i18n>routingheader.groupno}" />
                                    <Input value="{oRoutingHeaderModel>/aHeaderDetails/Group_No}" width="90px" editable="false" maxLength="8" class="sapUiSmallMarginBeginEnd" />
                                    <Label text="{i18n>routingheader.groupcounter}" tooltip="{i18n>routingheader.groupcounter}" />
                                    <Input value="{oRoutingHeaderModel>/aHeaderDetails/Grp_Cntr}" width="30px" editable="false" maxLength="2" class="sapUiSmallMarginBeginEnd" />
                                    <Label text="{i18n>routingheader.tasklistdesc}" required="true" tooltip="{i18n>routingheader.tasklistdesc}" />
                                    <Input change="fnChangeTasklistdescr" value="{oRoutingHeaderModel>/aHeaderDetails/Task_List_Desc}" class="sapUiSmallMarginBegin" editable="{oRoutingHeaderModel>/bEnableKeyUserFileds}" width="335px" maxLength="40" />
                                    <Button icon="sap-icon://expand" press="fnRoutingExpandfields" class="sapUiSmallMarginEnd" type="Emphasized" tooltip="{=${oVisibilityModel>/bExpandRoutingHeaderVisible} === true ? ${i18n>hideDetails} : ${i18n>showDetails}}" />
                                    <Button text="{i18n>aoci.button}" type="Emphasized" visible="{= ${oVisibilityModel>/bKeyUserVisible} &amp;&amp; ${oVisibilityModel>/sMassUpdateUser} !== 'X' }" press="fnOpenAOCIFragment" />
                                </OverflowToolbar>
                            </subHeader>
                            <content >
                                <!-- This VBox is Rotuing page main container -->
                                <VBox class="clsSubHeader" height="95%">
                                    <!-- This is Rotuing page Scroll Container -->
                                    <ScrollContainer id="ScrollId" horizontal="true" vertical="true" height="100%">
                                        <!-- Panel for Mass update user filter section - started -->
                                        <Panel visible="{= ${oVisibilityModel>/sMassUpdateUser} === 'X' &amp;&amp; ${oVisibilityModel>/sViewTemplate} === '' }" height="100%" backgroundDesign="Solid" class="rcpanelbgcolor">
                                            <HBox>
                                                <Title text="{i18n>massUpdate.MUTitle}" class="clsMUTitle" />
                                                <VBox class="sapUiSmallMarginBegin">
                                                    <Label text="{i18n>massUpdate.chooseTheChange}" required="true" />
                                                    <Select items="{oRoutingHeaderModel>/oActionListData/items}" selectedKey="{oVisibilityModel>/sSelectedAction}" valueState="{oVisibilityModel>/AtcnState}" forceSelection="false" width="18rem" change="fnActionChangeMU" editable="{oVisibilityModel>/bActionCombo}">
                                                        <core:Item key="{oRoutingHeaderModel>id}" text="{oRoutingHeaderModel>text}" />
                                                    </Select>
                                                </VBox>
                                                <VBox class="sapUiSmallMarginBegin">
                                                    <Label text="{i18n>massUpdate.operationNo}" tooltip="{i18n>massUpdate.operationNo}" />
                                                    <MultiComboBox id="oOperationCombo" selectionChange="fnOprChange" selectionFinish="fnOprSelectionFinish" selectedKeys="{oVisibilityModel>/sSelectedOperations}" items="{oOperationItemsModel>/sOperationList}" width="15rem" editable="{oVisibilityModel>/bOprCombo}">
                                                        <core:Item key="{oOperationItemsModel>sOprKey}" text="{oOperationItemsModel>sOprText}" enabled="{= ${oOperationItemsModel>sOpTyp} !== 'ZMEAUTO'}" />
                                                    </MultiComboBox>
                                                </VBox>
                                                <VBox>
                                                    <Label text="" tooltip="" />
                                                    <CheckBox text="{i18n>massUpdate.modifyRoutStat}" selected="{oVisibilityModel>/bMassCheck}" class="sapUiSmallMarginBegin" select="fnStatusChange" />
                                                </VBox>
                                                <VBox>
                                                    <Button text="{i18n>update.MUprogress}" icon="sap-icon://forward" type="Emphasized" press="fnNavigateToMuProgress" tooltip="{i18n>update.MUprogress}" class="clsMUGuiButton" />
                                                </VBox>
                                            </HBox>
                                        </Panel>
                                        <!-- Panel for Mass update user filter section - ended -->
                                        <!-- Panel for Routing header details section - started -->
                                        <Panel id="RoutingHeaderId" width="100%" height="100%" backgroundDesign="Solid" class="rcpanelbgcolor" visible="{oRoutingHeaderModel>/sExpandPanel}">
                                            <content>
                                                <!-- This is Routing header details - started -->
                                                <ScrollContainer horizontal="false" vertical="true" height="143px">
                                                    <grid:CSSGrid gridTemplateColumns="repeat(auto-fill, 200px)" gridGap="1rem" class="sapUiTinyMargin">
                                                        <VBox visible="{oVisibilityModel>/bEndUserVisible}">
                                                            <Label text="{i18n>routingheader.material}" tooltip="{i18n>routingheader.material}" />
                                                            <Text text="{oRoutingHeaderModel>/aHeaderDetails/Material}" class="sapUiTinyMarginTop" />
                                                        </VBox>
                                                        <VBox visible="{oVisibilityModel>/bEndUserVisible}">
                                                            <Label text="{i18n>routingheader.materialdescription}" tooltip="{i18n>routingheader.materialdescription}" />
                                                            <Text text="{oRoutingHeaderModel>/aHeaderDetails/Mat_Txt}" class="sapUiTinyMarginTop" />
                                                        </VBox>
                                                        <VBox visible="{parts:[{path:'oVisibilityModel>/sMassUpdateUser'},{ path:'oVisibilityModel>/bEndUserVisible'},{ path:'oVisibilityModel>/sViewTemplate'}],formatter:'.formatter.fnRtrStatusVisible'}">
                                                            <Label text="{i18n>routingheader.status}" required="true" tooltip="{i18n>routingheader.status}" />
                                                            <Input value="{oRoutingHeaderModel>/aHeaderDetails/Status} {oRoutingHeaderModel>/aHeaderDetails/TlExtid}" showValueHelp="true" tooltip="{oRoutingHeaderModel>/aHeaderDetails/Status} {oRoutingHeaderModel>/aHeaderDetails/TlExtid}" valueHelpRequest="fnValuehelpStatus" change="fnStatusCheck" showSuggestion="true" suggestionItems="{ path: 'oRoutingModel>/aStatus', templateShareable : true }" valueState="{oRoutingHeaderModel>/aHeaderDetails/statusState}" visible="true" editable="{oRoutingHeaderModel>/bEnableKeyUserStatus}">
                                                                <suggestionItems>
                                                                    <core:ListItem text="{oRoutingModel>Status}" />
                                                                </suggestionItems>
                                                            </Input>
                                                        </VBox>
                                                        <VBox visible="{parts:[{ path:'oVisibilityModel>/sMassUpdateUser'},{path:'oVisibilityModel>/bKeyUserVisible'},{ path:'oVisibilityModel>/sViewTemplate'}],formatter:'.formatter.fnStatusVisible'}">
                                                            <Label tooltip="{i18n>KeyTemplate.Status}" wrapping="true" text="{i18n>KeyTemplate.Status}" required="true" />
                                                            <ComboBox id="idStatus" items="{oRoutingHeaderModel>/aStatusData}" showSecondaryValues="true" enabled="{= ${oVisibilityModel>/sViewTemplate} !== 'X' }" selectedKey="{oRoutingHeaderModel>/aHeaderDetails/Status}" change="fnTemplateStatusChange">
                                                                <core:ListItem text="{oRoutingHeaderModel>Status}" key="{oRoutingHeaderModel>Status}" additionalText="{oRoutingHeaderModel>Text}" enabled="{parts:[{path:'oRoutingHeaderModel>Status'},{path:'oRoutingHeaderModel>Userflag'},{path:'oRoutingHeaderModel>Tmpl_User'},{path:'oRoutingHeaderModel>Key_User'}],formatter:'.formatter.fnStatusSelectionForKeyUser'}" />
                                                            </ComboBox>
                                                        </VBox>
                                                        <VBox>
                                                            <Label text="{i18n>routingheader.plannergroup}" tooltip="{i18n>routingheader.plannergroup}" />
                                                            <Input showValueHelp="true" liveChange="fnPlannerGroupLivechange" change="fnPlannerGroupChange" valueHelpRequest="fnValuehelpPlannerGroup" maxLength="3" value="{oRoutingHeaderModel>/aHeaderDetails/Plnr_Grp}" showSuggestion="true" suggestionItems="{ path: 'oRoutingModel>/aSuggestPlannerGroup', templateShareable : true }" editable="{oRoutingHeaderModel>/bEnableKeyUserFileds}">
                                                                <suggestionItems>
                                                                    <core:ListItem text="{oRoutingModel>Plnr_Grp}" />
                                                                </suggestionItems>
                                                            </Input>
                                                        </VBox>
                                                        <VBox>
                                                            <Label text="{i18n>routingheader.plannergroupdescription}" tooltip="{i18n>routingheader.plannergroupdescription}" />
                                                            <Text text="{oRoutingHeaderModel>/aHeaderDetails/Plnr_Grp_Txt}" class="sapUiTinyMarginTop" />
                                                        </VBox>
                                                        <VBox visible="{oVisibilityModel>/bEndUserVisible}">
                                                            <!-- GGUNO6VD: V2.5 Alloc Multi CI -->
                                                            <Label text="{i18n>aocivalhelp.ci}" />
                                                            <Input value="{oRoutingHeaderModel>/MLCompAsgnMultiCIs}" tooltip="{oRoutingHeaderModel>/MLMultiCITooltip}" editable="false" />
                                                        </VBox>
                                                        <VBox>
                                                            <!-- MJADMK7Z: MARS V3.0 CAPP order  -->
                                                            <Label text="{i18n>routingheader.CAPPorder}" />
                                                            <Input showValueHelp="true" change="fnCAPPorderChange" valueHelpRequest="fnValuehelpCAPPorder" maxLength="3" value="{oRoutingHeaderModel>/aHeaderDetails/FlgCapo}" tooltip="{oRoutingHeaderModel>/FlgCapoTooltip}" editable="true" enabled="{= ${oVisibilityModel>/sMassUpdateUser} !== 'X'}" />
                                                        </VBox>
                                                        <VBox>
                                                            <!-- MJADMK7Z: MARS V3.0 CAPP order -->
                                                            <Label text="{i18n>routingheader.CAPPWC}" />
                                                            <Input value="{oRoutingHeaderModel>/aHeaderDetails/KapArbpl}" maxSuggestionWidth="20rem" liveChange="fnCAPPWCLivechange" change="fnCAPPWCChange" showSuggestion="true" suggestionRows="{ path: 'oRoutingModel>/aSuggestCAPPWC', length:100, templateShareable : true }" showValueHelp="true" valueHelpRequest="fnValuehelpCAPPWC" tooltip="{oRoutingHeaderModel>/aHeaderDetails/KapArbplTooltip}" editable="true" enabled="{= ${oVisibilityModel>/sMassUpdateUser} !== 'X'}" maxLength="8" filterSuggests="false" suggestionItemSelected="true">
                                                                <suggestionColumns>
                                                                    <Column>
                                                                        <Label text="ID" tooltip="{i18n>update.workcenter}" />
                                                                    </Column>
                                                                    <Column hAlign="Center">
                                                                        <Label text="Desc" tooltip="{i18n>update.workcendesc}" />
                                                                    </Column>
                                                                    <Column hAlign="End">
                                                                        <Label text="Lang" tooltip="{i18n>update.lang}" />
                                                                    </Column>
                                                                </suggestionColumns>
                                                                <suggestionRows>
                                                                    <ColumnListItem>
                                                                        <cells>
                                                                            <Label text="{oRoutingModel>Work_Cntr}" width="6rem" tooltip="{oRoutingModel>Work_Cntr}" />
                                                                            <Label text="{oRoutingModel>Text}" width="8rem" tooltip="{oRoutingModel>Text}" />
                                                                            <Label text="{oRoutingModel>Lang}" tooltip="{oRoutingModel>Lang}" />
                                                                        </cells>
                                                                    </ColumnListItem>
                                                                </suggestionRows>
                                                            </Input>
                                                        </VBox>
                                                        <VBox visible="{oVisibilityModel>/bKeyUserVisible}">
                                                            <Label text="{i18n>routingheader.allocDate}" tooltip="{i18n>routingheader.allocationDate}" />
                                                            <DatePicker value="{path: 'oRoutingHeaderModel>/AllocDate'}" valueFormat="yyyyMMdd" displayFormat="dd/MM/yyyy" change="fnSetAllocDateValidation" valueState="{oRoutingHeaderModel>/AllocDateValidation}" editable="{oRoutingHeaderModel>/bEnableKeyUserFileds}" />
                                                        </VBox>
                                                        <VBox visible="{oVisibilityModel>/bKeyUserVisible}">
                                                            <Label text="" />
                                                            <Select forceSelection="false" selectedKey="{oRoutingHeaderModel>/AllocDateMode}" items="{path: 'oRoutingHeaderModel>/aAllocDateModeData'}" editable="{oRoutingHeaderModel>/bEnableKeyUserFileds}">
                                                                <core:Item key="{oRoutingHeaderModel>modeKey}" text="{oRoutingHeaderModel>modeName}" />
                                                            </Select>
                                                        </VBox>
                                                        <VBox visible="{oVisibilityModel>/bEndUserVisible}">
                                                            <Label text="{i18n>routingheader.plant}" tooltip="{i18n>routingheader.plant}" />
                                                            <Text text="{oRoutingHeaderModel>/aHeaderDetails/Plant}" class="sapUiTinyMarginTop" />
                                                        </VBox>
                                                        <VBox visible="{oVisibilityModel>/bEndUserVisible}">
                                                            <Label text="{i18n>routingheader.oldtasklistnumber}" tooltip="{i18n>routingheader.oldtasklistnumber}" />
                                                            <Input value="{oRoutingHeaderModel>/aHeaderDetails/PlnnrAlt}" enabled="false" />
                                                        </VBox>
                                                        <VBox visible="{oVisibilityModel>/bEndUserVisible}">
                                                            <Label text="{i18n>routingheader.type}" tooltip="{i18n>routingheader.type}" />
                                                            <Text text="{oRoutingHeaderModel>/aHeaderDetails/Task_type}" class="sapUiTinyMarginTop" />
                                                        </VBox>
                                                        <VBox visible="{oVisibilityModel>/bKeyUserVisible}">
                                                            <Label text="{i18n>routingheader.usage}" required="true" tooltip="{i18n>routingheader.usage}" />
                                                            <ComboBox showSecondaryValues="true" selectedKey="{oRoutingHeaderModel>/aHeaderDetails/Verwe}" items="{ path: 'oSrvModel>/ET_UsageSet', templateShareable : true }" change="fnChangeUsage" editable="{oRoutingHeaderModel>/bEnableKeyUserFileds}">
                                                                <core:ListItem key="{oSrvModel>Usage}" text="{oSrvModel>Usage}" additionalText="{oSrvModel>Text}" />
                                                            </ComboBox>
                                                        </VBox>
                                                        <VBox visible="{oVisibilityModel>/bKeyUserVisible}">
                                                            <Label text="{i18n>routingheader.usagedescription}" tooltip="{i18n>routingheader.usagedescription}" />
                                                            <Text text="{oRoutingHeaderModel>/aHeaderDetails/Verwe_Txt}" class="sapUiTinyMarginTop" />
                                                        </VBox>
                                                        <VBox visible="false">
                                                            <Label text="{i18n>routingheader.fromlotsize}" tooltip="{i18n>routingheader.fromlotsize}" />
                                                            <Input value="{path:'oRoutingHeaderModel>/aHeaderDetails/Losvn', type: 'sap.ui.model.type.Integer', formatOptions: { maxFractionDigits: 0 }}" type="Number" />
                                                        </VBox>
                                                        <VBox visible="false">
                                                            <Label text="{i18n>routingheader.tolotsize}" tooltip="{i18n>routingheader.tolotsize}" />
                                                            <Input value="{path:'oRoutingHeaderModel>/aHeaderDetails/Losbs', type: 'sap.ui.model.type.Integer', formatOptions: { maxFractionDigits: 0 }}" type="Number" />
                                                        </VBox>
                                                        <VBox visible="false">
                                                            <Label text="{i18n>routingheader.validfromdate}" tooltip="{i18n>routingheader.validfromdate}" />
                                                            <DatePicker value="{path: 'oRoutingHeaderModel>/aHeaderDetails/Datuv', type: 'sap.ui.model.type.Date', formatOptions: {pattern: 'dd.MM.yyyy' , UTC: true}}" placeholder="DD.MM.YYYY" valueFormat="yyyy-MM-ddTHH:mm:ss" />
                                                        </VBox>
                                                        <VBox visible="false">
                                                            <Label text="{i18n>routingheader.validtodate}" tooltip="{i18n>routingheader.validtodate}" />
                                                            <DatePicker value="{path: 'oRoutingHeaderModel>/aHeaderDetails/Datub', type: 'sap.ui.model.type.Date', formatOptions: {pattern: 'dd.MM.yyyy' , UTC: true}}" placeholder="DD.MM.YYYY" valueFormat="yyyy-MM-ddTHH:mm:ss" editable="false" />
                                                        </VBox>
                                                        <VBox visible="{oVisibilityModel>/bKeyUserVisible}">
                                                            <Label text="{i18n>routingheader.partiallotass}" tooltip="{i18n>routingheader.partiallotass}" />
                                                            <ComboBox showSecondaryValues="true" selectedKey="{oRoutingHeaderModel>/aHeaderDetails/Ppkztlzu}" value="{oRoutingHeaderModel>/aHeaderDetails/Ppkztlzu}" items="{ path: 'oSrvModel>/ET_PrtlLot_AssignSet' , templateShareable : true }" editable="{oRoutingHeaderModel>/bEnableKeyUserFileds}">
                                                                <core:ListItem key="{oSrvModel>Ppkztlzu}" text="{oSrvModel>PPKZTLZU}" additionalText="{oSrvModel>TXT}" />
                                                            </ComboBox>
                                                        </VBox>
                                                        <VBox visible="{parts:[{ path:'oVisibilityModel>/sMassUpdateUser'},{path:'oVisibilityModel>/bKeyUserVisible'},{ path:'oVisibilityModel>/sViewTemplate'}],formatter:'.formatter.fnStatusVisible'}">
                                                            <Label text="{i18n>routingheader.plant}" tooltip="{i18n>routingheader.plant}" />
                                                            <Text text="{oRoutingHeaderModel>/aHeaderDetails/Plant}" class="sapUiTinyMarginTop" />
                                                        </VBox>
                                                        <VBox visible="{oVisibilityModel>/bExpandRoutingHeaderVisible}">
                                                            <Label text="{i18n>routingheader.changedon}" />
                                                            <DatePicker value="{path: 'oRoutingHeaderModel>/aHeaderDetails/Aedat', type: 'sap.ui.model.type.Date', formatOptions: {pattern: 'dd.MM.yyyy' , UTC: true}}" placeholder="DD.MM.YYYY" valueFormat="yyyy-MM-ddTHH:mm:ss" editable="false" />
                                                        </VBox>
                                                        <VBox visible="{oVisibilityModel>/bExpandRoutingHeaderVisible}">
                                                            <Label text="{i18n>routingheader.changedby}" />
                                                            <Text class="sapUiTinyMarginTop" text="{oRoutingHeaderModel>/aHeaderDetails/Aenam}" />
                                                        </VBox>
                                                        <VBox visible="{oVisibilityModel>/bExpandRoutingHeaderVisible}">
                                                            <Label text="{i18n>routingheader.createdon}" />
                                                            <DatePicker value="{path: 'oRoutingHeaderModel>/aHeaderDetails/Andat', type: 'sap.ui.model.type.Date', formatOptions: {pattern: 'dd.MM.yyyy' , UTC: true}}" placeholder="DD.MM.YYYY" valueFormat="yyyy-MM-ddTHH:mm:ss" editable="false" />
                                                        </VBox>
                                                        <VBox visible="{oVisibilityModel>/bExpandRoutingHeaderVisible}">
                                                            <Label text="{i18n>routingheader.createdby}" />
                                                            <Text class="sapUiTinyMarginTop" text="{oRoutingHeaderModel>/aHeaderDetails/Annam}" />
                                                        </VBox>
                                                    </grid:CSSGrid>
                                                </ScrollContainer>
                                                <!-- This is Routing header details - ended -->
                                                <!-- Classification section - started -->
                                                <OverflowToolbar height="3rem" width="100%" design="Solid" class="rctoolbarbgcolor">
                                                    <content>
                                                        <Title text="{i18n>classifiction.classificationtxt}" class="boldFontCls" />
                                                    </content>
                                                </OverflowToolbar>
                                                <grid:CSSGrid gridTemplateColumns="repeat(auto-fill, 200px)" gridGap="1rem" class="sapUiTinyMargin">
                                                    <VBox>
                                                        <Label text="{i18n>classifiction.planindex}" />
                                                        <Input value="{oRoutingHeaderModel>/PLAN_INDEX}" class="sapUiTinyMarginTop" change="fnPlanIndexChange" editable="{oRoutingHeaderModel>/bEnableKeyUserFileds}" />
                                                    </VBox>
                                                    <VBox>
                                                        <Label text="{i18n>classifiction.debitor}" />
                                                        <Input value="{oRoutingHeaderModel>/DEBITOR}" maxLength="10" showValueHelp="false" class="sapUiTinyMarginTop" valueHelpRequest="fnValuehelpDebitor" editable="{oRoutingHeaderModel>/bEnableKeyUserFileds}" />
                                                    </VBox>
                                                    <VBox visible="false">
                                                        <Label text="{i18n>classifiction.stationzone}" />
                                                        <Input showValueHelp="true" class="sapUiTinyMarginTop" editable="false" />
                                                    </VBox>
                                                </grid:CSSGrid>
                                                <!-- Classification section - ended -->
                                                <!-- This is Routing header Long text - started -->
                                                <OverflowToolbar width="49.2%" height="auto" design="Info" class="sapUiSmallMarginTop sapUiTinyMarginEnd">
                                                    <content>
                                                        <Title text="{i18n>std.longtext}" class="titlebold" />
                                                        <Input value="{path:'oVisibilityModel>/sTxtsp',formatter:'.formatter.langDisplay'}" width="45px" editable="false" class="langBold" />
                                                        <ToolbarSpacer />
                                                        <!-- Undo Highlight Text Option -->
                                                        <Button type="Emphasized" icon="sap-icon://undo" iconFirst="true" iconDensityAware="true" press="fnUndoIncTxt($event, 'sRouter')" tooltip="{i18n>high.CommentUndo}" enabled="{= ${oVisibilityModel>/sMassUpdateUser} !== 'X'}" />
                                                        <!-- Highlight Text Option -->
                                                        <Button type="Emphasized" icon="sap-icon://notification-2" iconFirst="true" iconDensityAware="true" press="fnLongTxtCmnt($event, 'sRouter')" tooltip="{i18n>high.Comment}" enabled="{= ${oVisibilityModel>/sMassUpdateUser} !== 'X'}" />
                                                        <!-- Highlight Text Option -->
                                                        <Button text="B" type="Emphasized" icon="" iconFirst="true" iconDensityAware="true" press="fnLongTxtBold($event, 'sRouter')" tooltip="{i18n>high.Bold}" enabled="{= ${oVisibilityModel>/sMassUpdateUser} !== 'X'}" />
                                                        <Button text="{i18n>std.standaradtext}" type="Emphasized" icon="sap-icon://attachment-text-file" iconFirst="true" iconDensityAware="true" press="fnValuehelpStandardText" tooltip="{i18n>std.standaradtext}" enabled="{oRoutingHeaderModel>/bEnableKeyUserFileds}" />
                                                    </content>
                                                </OverflowToolbar>
                                                <!-- This is Routing header Long text - ended -->
                                            </content>
                                        </Panel>
                                        <!-- Panel for Routing header details section - ended -->
                                        <!-- List is for Routing operations section - started -->
                                        <List id="listBindingOpr" mode="MultiSelect" items="{path:'oOperationItemsModel>/aOperationItems', templateShareable : true }">
                                            <!-- Routing operations related details -->
                                            <headerToolbar>
                                                <OverflowToolbar>
                                                    <Title text="{i18n>update.totaloperations} ({oRoutingHeaderModel>/iOperLength})" />
                                                    <ObjectStatus class="sapUiSmallMarginEnd" text="{i18n>update.backgroundjob}" active="true" state="Warning" inverted="true" visible="{= ${oVisibilityModel>/bTiconJobStatus} &amp;&amp; ${oRoutingHeaderModel>/iOperLength} >0 ? true: false }" />
                                                    <Button type="Accept" icon="sap-icon://refresh" press="fnCheckTiconJobStatus($event, 'refreshBtn')" visible="{= ${oVisibilityModel>/bTiconJobStatus} &amp;&amp; ${oRoutingHeaderModel>/iOperLength} >0 ? true: false }" />
                                                </OverflowToolbar>
                                            </headerToolbar>
                                            <dragDropConfig>
                                                <dnd:DropInfo targetAggregation="items" drop="onOperationsDrop" enabled="{oVisibilityModel>/bBOMVisible}" />
                                            </dragDropConfig>
                                            <CustomListItem>
                                                <!-- Panel is for Routing operation - started -->
                                                <Panel id="OprToolbar" expandable="true" backgroundDesign="Solid" class="sapUiTinyMarginBottom rcpanelbgcolor sapUiNoContentPadding">
                                                    <!-- Routing operation header details - started -->
                                                    <headerToolbar>
                                                        <!-- New Toolbar for operations V 3.3-->
                                                        <Toolbar busy="{oOperationItemsModel>bTiconCalInPrg}" height="5rem">
                                                            <!-- This VBox hold operation number related infromation -->
                                                            <VBox width="{oVisibilityModel>/OprHdrVbox1}">
                                                                <!-- Routing operation number -->
                                                                <HBox>
                                                                    <Text text="{oOperationItemsModel>Vornr}" class="sapUiNoMarginEnd OpNumbold" />
                                                                    <core:Icon size="0.8rem" src="sap-icon://edit" class="editIconCls" press="fnAddOperation($event, 'Change')" visible="{parts:[{path:'oVisibilityModel>/sMassUpdateUser'},{path:'oOperationItemsModel>sMassUpdateOprEditIcon'},{path:'oOperationItemsModel>Vplnr'}],formatter:'.formatter.fnMassUpdateOprEditIcon'}" />
                                                                </HBox>
                                                                <!-- Routing operation s-ref rotuing group & group counter -->
                                                                <HBox>
                                                                    <Text text="{oOperationItemsModel>Vplnr}" tooltip="{i18n>srouting}" class="sapUiTinyMarginEnd highlightedText" visible="{= ${oOperationItemsModel>Vplnr} !== '' &amp;&amp; ${oRoutingModel>/keyUser} !== 'X'}" />
                                                                    <Text text="{oOperationItemsModel>Vplal}" class="highlightedText" visible="{= ${oOperationItemsModel>Vplnr} !== '' &amp;&amp; ${oRoutingModel>/keyUser} !== 'X'}" />
                                                                </HBox>
                                                            </VBox>
                                                            <ToolbarSeparator />
                                                            <VBox width="{oVisibilityModel>/OprHdrVbox2}">
                                                                <HBox>
                                                                    <!-- Routing operation Work center -->
                                                                    <Label visible="{= ${oOperationItemsModel>SLWID} === 'ZMEAUTO'}" class="sapUiTinyMarginBegin"/>
                                                                    <Label required="{= ${oOperationItemsModel>SLWID} !== 'ZMEAUTO'}" />
                                                                    <core:Icon tooltip="{i18n>update.workcenter}" src="sap-icon://customer-and-supplier" class="sapUiTinyMarginBegin sapUiTinyMarginTop sapUiTinyMarginEnd pointerEventCls iconCssCls" />
                                                                    <Input value="{oOperationItemsModel>Arbpl}" width="7.4rem" class="sapUiTinyMarginEnd" showValueHelp="true" valueHelpRequest="fnValuehelpWrkCntr" change="fnChangeOprWorkcenter" liveChange="fnOperationWorkCenterLivechange" showSuggestion="true" suggestionRows="{ path: 'oOperationItemsModel>aSuggestOperationWorkCenter', length:100, templateShareable : true }" valueState="{oOperationItemsModel>Arbpl_Vstate}" valueStateText=" " editable="{= ${oOperationItemsModel>bEnableKeyUserWorkCenter} &amp;&amp; (${oOperationItemsModel>Vplnr} === '' &amp;&amp; ${oOperationItemsModel>SLWID} !== 'ZMEAUTO')}" maxLength="8" filterSuggests="false" suggestionItemSelected="true" maxSuggestionWidth="17rem">
                                                                        <suggestionColumns>
                                                                            <Column>
                                                                                <Label text="ID" tooltip="{i18n>update.workcenter}" />
                                                                            </Column>
                                                                            <Column hAlign="Center">
                                                                                <Label text="Desc" tooltip="{i18n>update.workcendesc}" />
                                                                            </Column>
                                                                            <Column hAlign="End">
                                                                                <Label text="Lang" tooltip="{i18n>update.lang}" />
                                                                            </Column>
                                                                        </suggestionColumns>
                                                                        <suggestionRows>
                                                                            <ColumnListItem>
                                                                                <cells>
                                                                                    <Label text="{oOperationItemsModel>Work_Cntr}" width="5rem" tooltip="{oOperationItemsModel>Work_Cntr}" />
                                                                                    <Label text="{oOperationItemsModel>Text}" width="6rem" tooltip="{oOperationItemsModel>Text}" />
                                                                                    <Label text="{oOperationItemsModel>Lang}" tooltip="{oOperationItemsModel>Lang}" />
                                                                                </cells>
                                                                            </ColumnListItem>
                                                                        </suggestionRows>
                                                                    </Input>
                                                                    <!-- Routing operation work center description-->
                                                                    <Input class="sapUiTinyMarginEnd" width="7rem" tooltip="{oOperationItemsModel>Arbpl_Ktext}" value="{oOperationItemsModel>Arbpl_Ktext}" editable="false" />
                                                                </HBox>
                                                                <HBox>
                                                                    <!-- Operation Short Text  -->
                                                                    <Label class="sapUiTinyMarginBegin" visible="{= ${oOperationItemsModel>SLWID} !== 'ZMEAUTO'}"/>
                                                                    <core:Icon class="headerIconCls sapUiSmallMarginBegin sapUiTinyMarginTop pointerEventCls iconCssCls" tooltip="{i18n>update.operationshorttext}" visible="{= ${oOperationItemsModel>SLWID} !== 'ZMEAUTO'}" src="sap-icon://header" />
                                                                    <Input width="239px" maxLength="40" class="sapUiTinyMarginBegin sapUiTinyMarginEnd clsOprShortTxtInput" tooltip="{oOperationItemsModel>Ltxa1}" value="{oOperationItemsModel>Ltxa1}" change="fnChangeOprItemTasklistdescr" editable="{= ${oOperationItemsModel>Vplnr} === '' &amp;&amp; ${oOperationItemsModel>bEnableKeyUserOprShortTxtDesc}}" visible="{=${oOperationItemsModel>SLWID} !== 'ZMEAUTO'}" />
                                                                    <!-- Group label &   Group Counter Input for Dummy operation  -->
                                                                    <Label visible="{= ${oOperationItemsModel>SLWID} === 'ZMEAUTO' &amp;&amp; ${oRoutingModel>/keyUser} === 'X'}" required="true" />
                                                                    <core:Icon class="sapUiTinyMarginBegin sapUiTinyMarginTop sapUiTinyMarginEnd pointerEventCls iconCssCls" tooltip="{i18n>OprClass.Group}" visible="{= ${oOperationItemsModel>SLWID} === 'ZMEAUTO' &amp;&amp; ${oRoutingModel>/keyUser} === 'X'}" src="sap-icon://group-2"/>
                                                                    <Input value="{oOperationItemsModel>USR00}" width="7.4rem" valueState="{oOperationItemsModel>USR00_Vstate}" showValueHelp="true" valueStateText=" " valueHelpOnly="true" editable="{oOperationItemsModel>bEnableOprDoc}" valueHelpRequest="fnValuehelpRefOpset" class="sapUiTinyMarginEnd clsOprGRPGCTxtInput" visible="{= ${oOperationItemsModel>SLWID} === 'ZMEAUTO' &amp;&amp; ${oRoutingModel>/keyUser} === 'X'}" />
                                                                    <Input value="{oOperationItemsModel>USR02}" width="7rem" editable="false" valueState="{oOperationItemsModel>USR02_Vstate}" valueStateText=" " visible="{= ${oOperationItemsModel>SLWID} === 'ZMEAUTO' &amp;&amp; ${oRoutingModel>/keyUser} === 'X'}" class="sapUiLargeMarginEnd" />
                                                                </HBox>
                                                            </VBox>
                                                            <VBox width="{oVisibilityModel>/OprHdrVbox3}" class="sapUiTinyMarginBegin">
                                                                <HBox>
                                                                    <!-- Routing operation plant-->
                                                                    <Label required="true"/>
                                                                    <core:Icon tooltip="{i18n>update.plant}" src="sap-icon://factory" class="sapUiTinyMarginBegin sapUiTinyMarginTop sapUiTinyMarginEnd pointerEventCls iconCssCls" />
                                                                    <Input value="{oOperationItemsModel>Werks}" width="5.8rem" class="clsOprPlantTxtInput" maxLength="4" showValueHelp="true" valueHelpRequest="fnValuehelpPlant" change="fnChangeOprPlant" liveChange="fnOperationPlantLivechange" showSuggestion="true" enabled="{oOperationItemsModel>bEnableOprFileds}" editable="{= ${oOperationItemsModel>Vplnr} === '' &amp;&amp; ${oOperationItemsModel>SLWID} !== 'ZMEAUTO'}" suggestionItems="{ path: 'oOperationItemsModel>aSuggestOperationPlants', templateShareable : true }" valueState="{oOperationItemsModel>Werks_Vstate}" valueStateText=" ">
                                                                        <suggestionItems>
                                                                            <core:ListItem text="{oOperationItemsModel>Plant}" />
                                                                        </suggestionItems>
                                                                    </Input>
                                                                </HBox>
                                                                <HBox>
                                                                    <Label class="sapUiTinyMarginBegin" />
                                                                    <core:Icon tooltip="{i18n>update.maxnoemp}" src="sap-icon://add-employee" class="sapUiTinyMarginBegin sapUiTinyMarginTop sapUiTinyMarginEnd pointerEventCls iconCssCls" />
                                                                    <!-- visible="{=${oOperationItemsModel>SLWID} !== 'ZMEAUTO'}" enabled="{= ${oOperationItemsModel>SLWID} !== 'ZMEAUTO' &amp;&amp; ${oOperationItemsModel>Vplnr} === ''}" -->
                                                                    <Input maxLength="6" change="fnValidateFloatInput" valueState="{oOperationItemsModel>Anzma_Vstate}" value="{parts:['oOperationItemsModel>Anzma', 'oRoutingModel>DCPFM'],formatter:'.formatter.fnGetEmpNumeric'}" width="5.8rem" enabled="{=${oOperationItemsModel>SLWID} !== 'ZMEAUTO' &amp;&amp; ${oOperationItemsModel>Vplnr} === ''}" editable="{= ${oOperationItemsModel>bEnableKeyUserNoEmployees} &amp;&amp; ${oOperationItemsModel>Vplnr} === ''}" />
                                                                    <!-- visible="{=${oOperationItemsModel>SLWID} !== 'ZMEAUTO'}" -->
                                                                </HBox>
                                                            </VBox>
                                                            <!-- <ToolbarSeparator class="sapUiTinyMargin"/> -->
                                                            <VBox width="{oVisibilityModel>/OprHdrVbox4}">
                                                                <HBox>
                                                                    <!-- Routing operation key field-->
                                                                    <Label text="" class="" visible="{= ${oOperationItemsModel>SLWID} === 'ZMEAUTO' &amp;&amp; ${oRoutingModel>/keyUser} === 'X'}" required="true" />
                                                                    <core:Icon class="headerIconCls sapUiSmallMarginBegin sapUiTinyMarginTop pointerEventCls iconCssCls" tooltip="{i18n>update.keyfield}" visible="{= ${oOperationItemsModel>SLWID} === 'ZMEAUTO' &amp;&amp; ${oRoutingModel>/keyUser} === 'X'}" src="sap-icon://key" />
                                                                    <!-- <Label text="{i18n>update.keyfield}" class="sapUiTinyMarginEnd sapUiTinyMarginBegin sapUiTinyMarginTop" visible="{= ${oOperationItemsModel>SLWID} === 'ZMEAUTO' &amp;&amp; ${oRoutingModel>/keyUser} === 'X'}" required="true" /> -->
                                                                    <Input value="{oOperationItemsModel>SLWID}" width="5.6rem" class="sapUiTinyMarginBegin" editable="false" visible="{= ${oOperationItemsModel>SLWID} === 'ZMEAUTO' &amp;&amp; ${oRoutingModel>/keyUser} === 'X'}"/>
                                                                    <!-- Routing operation setup time-->
                                                                    <core:Icon tooltip=" {i18n>update.setuptime}" src="sap-icon://time-account" class="sapUiTinyMarginBegin sapUiTinyMarginTop sapUiTinyMarginEnd pointerEventCls iconCssCls" visible="{=${oOperationItemsModel>SLWID} !== 'ZMEAUTO'}" />
                                                                    <Input maxLength="9" width="6rem" class="sapUiTinyMarginEnd" change="fnValidateFloatInput" valueState="{oOperationItemsModel>Vgw01_Vstate}" visible="{= ${oOperationItemsModel>SLWID} !== 'ZMEAUTO'}" enabled="{parts:[{path:'oOperationItemsModel>StdValKey'},{path:'oOperationItemsModel>SLWID'}],formatter:'.formatter.fnTiconTimesVisibility'}" value="{parts:['oOperationItemsModel>Vgw01', 'oOperationItemsModel>DCPFM'],formatter:'.formatter.fnGetFormattedNumeric'}" editable="{parts:[{path:'oOperationItemsModel>Vplnr'},{path:'oOperationItemsModel>Ticon_status_1'},{path:'oOperationItemsModel>Ticon_status_2'}, {path:'oOperationItemsModel>Ticon_status_3'},{path:'oOperationItemsModel>StdValKey'},{path:'oOperationItemsModel>Calc_type'},{path:'oOperationItemsModel>bEnableOprFileds'}],formatter:'.formatter.fnTiconTimesEnable'}">
                                                                        <layoutData>
                                                                            <l:GridData span="XL8 L8 M8 S8" />
                                                                        </layoutData>
                                                                    </Input>
                                                                    <!--V3.3 - USNO #1617603 Added Vge01_Vstate - MJADMK7Z -->
                                                                    <Input value="{oOperationItemsModel>Vge01}" width="5rem" showValueHelp="true" valueHelpOnly="true" valueState="{oOperationItemsModel>Vge01_Vstate}" valueHelpRequest="fnValuehelpUOM($event, 'setup')" visible="{= ${oOperationItemsModel>SLWID} !== 'ZMEAUTO'}" enabled="{parts:[{path:'oOperationItemsModel>StdValKey'},{path:'oOperationItemsModel>SLWID'}],formatter:'.formatter.fnTiconTimesVisibility'}" editable="{parts:[{path:'oOperationItemsModel>Vplnr'},{path:'oOperationItemsModel>Ticon_status_1'},{path:'oOperationItemsModel>Ticon_status_2'}, {path:'oOperationItemsModel>Ticon_status_3'},{path:'oOperationItemsModel>StdValKey'},{path:'oOperationItemsModel>Calc_type'},{path:'oOperationItemsModel>bEnableOprFileds'}],formatter:'.formatter.fnTiconTimesEnable'}">
                                                                        <layoutData>
                                                                            <l:GridData span="XL4 L4 M4 S4" />
                                                                        </layoutData>
                                                                    </Input>
                                                                </HBox>
                                                                <HBox>
                                                                    <Label text="" class="" visible="{= ${oOperationItemsModel>SLWID} === 'ZMEAUTO' &amp;&amp; ${oRoutingModel>/keyUser} === 'X'}" required="true" />
                                                                    <core:Icon class="headerIconCls sapUiSmallMarginBegin sapUiTinyMarginTop pointerEventCls iconCssCls" tooltip="{i18n>update.interval}" visible="{= ${oOperationItemsModel>SLWID} === 'ZMEAUTO' &amp;&amp; ${oRoutingModel>/keyUser} === 'X'}" src="sap-icon://resize-vertical" />
                                                                    <!-- <Label text="{i18n>update.interval}" class="sapUiSmallMarginEnd sapUiTinyMarginTop sapUiLargeMarginBegin" visible="{= ${oOperationItemsModel>SLWID} === 'ZMEAUTO' &amp;&amp; ${oRoutingModel>/keyUser} === 'X'}" required="true" /> -->
                                                                    <Input type="Number" class="sapUiTinyMarginBegin" value="{path:'oOperationItemsModel>USR03'}" width="5.6rem" valueState="{oOperationItemsModel>USR03_Vstate}" valueStateText="{oOperationItemsModel>USR03_VstateText}" editable="{oOperationItemsModel>bEnableOprDoc}" visible="{= ${oOperationItemsModel>SLWID} === 'ZMEAUTO' &amp;&amp; ${oRoutingModel>/keyUser} === 'X'}"/>
                                                                    <core:Icon tooltip="{i18n>update.labortime}" src="sap-icon://pending" class="sapUiTinyMarginBegin sapUiTinyMarginTop sapUiTinyMarginEnd pointerEventCls iconCssCls" visible="{=${oOperationItemsModel>SLWID} !== 'ZMEAUTO'}" />
                                                                    <Input maxLength="9" width="6rem" class="sapUiTinyMarginEnd" change="fnValidateFloatInput" valueState="{oOperationItemsModel>Vgw02_Vstate}" visible="{= ${oOperationItemsModel>SLWID} !== 'ZMEAUTO'}" enabled="{parts:[{path:'oOperationItemsModel>StdValKey'},{path:'oOperationItemsModel>SLWID'}],formatter:'.formatter.fnTiconTimesVisibility'}" value="{parts:['oOperationItemsModel>Vgw02', 'oRoutingModel>DCPFM'],formatter:'.formatter.fnGetFormattedNumeric'}" editable="{parts:[{path:'oOperationItemsModel>Vplnr'},{path:'oOperationItemsModel>Ticon_status_1'},{path:'oOperationItemsModel>Ticon_status_2'} ,{path:'oOperationItemsModel>Ticon_status_3'},{path:'oOperationItemsModel>StdValKey'},{path:'oOperationItemsModel>Calc_type'},{path:'oOperationItemsModel>bEnableOprFileds'}],formatter:'.formatter.fnTiconTimesEnable'}">
                                                                        <layoutData>
                                                                            <l:GridData span="XL8 L8 M8 S8" />
                                                                        </layoutData>
                                                                    </Input>
                                                                    <!--V3.3 - USNO#1617603 Added Vge01_Vstate - MJADMK7Z -->
                                                                    <Input value="{oOperationItemsModel>Vge02}" width="5rem" showValueHelp="true" valueHelpOnly="true" valueState="{oOperationItemsModel>Vge02_Vstate}" valueHelpRequest="fnValuehelpUOM($event, 'labor')" visible="{= ${oOperationItemsModel>SLWID} !== 'ZMEAUTO'}" enabled="{parts:[{path:'oOperationItemsModel>StdValKey'},{path:'oOperationItemsModel>SLWID'}],formatter:'.formatter.fnTiconTimesVisibility'}" editable="{parts:[{path:'oOperationItemsModel>Vplnr'},{path:'oOperationItemsModel>Ticon_status_1'},{path:'oOperationItemsModel>Ticon_status_2'}, {path:'oOperationItemsModel>Ticon_status_3'},{path:'oOperationItemsModel>StdValKey'},{path:'oOperationItemsModel>Calc_type'},{path:'oOperationItemsModel>bEnableOprFileds'}],formatter:'.formatter.fnTiconTimesEnable'}">
                                                                        <layoutData>
                                                                            <l:GridData span="XL4 L4 M4 S4" />
                                                                        </layoutData>
                                                                    </Input>
                                                                </HBox>
                                                            </VBox>
                                                            <!-- <ToolbarSeparator class="sapUiTinyMargin"/> -->
                                                            <VBox width="{oVisibilityModel>/OprHdrVbox5}">
                                                                <!--code for ticon status question-mark setup variables-->
                                                                <HBox>
                                                                    <HBox>
                                                                        <Button icon="sap-icon://edit" class="questionIconCls questMarkBtnColor" enabled="{= ${oOperationItemsModel>bEnableOprTiconFileds} &amp;&amp; ${ ${oOperationItemsModel>Vplnr} === '' &amp;&amp; ${oOperationItemsModel>StdValKey} !== 'Z000'}}" press="fnTiconExistence($event, 'QUEST', '', '3')" tooltip="{i18n>update.setquestions}" visible="{= ${oOperationItemsModel>SLWID} !== 'ZMEAUTO' &amp;&amp; ${oOperationItemsModel>TiconStatus03} === 'LINK'}" />
                                                                        <Button type="Reject" icon="sap-icon://display" class="questionIconCls" enabled="{= ${oOperationItemsModel>Vplnr} === '' &amp;&amp; ${oOperationItemsModel>StdValKey} !== 'Z000'}" press="fnTiconExistence($event, 'QUEST', '', '3')" tooltip="{i18n>update.setquestions}" visible="{= ${oOperationItemsModel>SLWID} !== 'ZMEAUTO' &amp;&amp; ${oOperationItemsModel>TiconStatus03} === 'TDIFF'}" />
                                                                        <Button type="Accept" icon="sap-icon://display" class="questionIconCls" enabled="{= ${oOperationItemsModel>Vplnr} === '' &amp;&amp; ${oOperationItemsModel>StdValKey} !== 'Z000'}" press="fnTiconExistence($event, 'QUEST', '', '3')" tooltip="{i18n>update.setquestions}" visible="{= ${oOperationItemsModel>SLWID} !== 'ZMEAUTO' &amp;&amp; ${oOperationItemsModel>TiconStatus03} === 'RELEA'}" />
                                                                        <Button type="Emphasized" icon="sap-icon://question-mark" class="questionIconCls" press="fnTiconExistence($event, 'QUEST', '', '3')" tooltip="{i18n>update.setquestions}" enabled="{= ${oOperationItemsModel>Vplnr} === '' &amp;&amp; ${oOperationItemsModel>StdValKey} !== 'Z000' &amp;&amp; (${oOperationItemsModel>TiconStatus03} !== 'NONE' &amp;&amp; ${oOperationItemsModel>TiconStatus03} !== 'CFAIL')}" visible="{= ${oOperationItemsModel>SLWID} !== 'ZMEAUTO' &amp;&amp; (${oOperationItemsModel>TiconStatus03} === 'NONE' || ${oOperationItemsModel>TiconStatus03} === '' || ${oOperationItemsModel>TiconStatus03} === 'CFAIL')}" />
                                                                    </HBox>
                                                                    <HBox visible="{=${oOperationItemsModel>SLWID} !== 'ZMEAUTO'}">
                                                                        <Button type="Emphasized" icon="sap-icon://shipping-status" tooltip="{i18n>ticon.release}" width="1.5rem" class="shippingBtnCls" visible="{= ${oOperationItemsModel>Ticon_status_3} !== 'REL' &amp;&amp; ${oOperationItemsModel>Vplnr} === '' &amp;&amp; ${oOperationItemsModel>StdValKey} !== 'Z000' &amp;&amp; (${oOperationItemsModel>TiconStatus03} !== 'NONE' &amp;&amp; ${oOperationItemsModel>TiconStatus03} !== 'CFAIL')}" enabled="{oOperationItemsModel>bEnableOprTiconFileds}" press="fnTiconExistence($event,'RELUNDO', 'TICONREL', '3')" />
                                                                        <Button type="Emphasized" icon="sap-icon://undo" tooltip="{i18n>ticon.undo}" width="1.5rem" class="shippingBtnCls" visible="{= ${oOperationItemsModel>Ticon_status_3} === 'REL' &amp;&amp; ${oOperationItemsModel>Vplnr} === '' &amp;&amp; ${oOperationItemsModel>StdValKey} !== 'Z000' &amp;&amp; (${oOperationItemsModel>TiconStatus03} !== 'NONE' &amp;&amp; ${oOperationItemsModel>TiconStatus03} !== 'CFAIL')}" enabled="{oOperationItemsModel>bEnableOprTiconFileds}" press="fnTiconExistence($event, 'RELUNDO', 'TICONUNDO', '3')" />
                                                                        <Button type="Reject" icon="sap-icon://delete" tooltip="{i18n>ticon.delete}" width="1.5rem" class="deleteBtnCls" enabled="{= ${oOperationItemsModel>bEnableOprTiconFileds} &amp;&amp;  ${oOperationItemsModel>TiconStatus03} === 'LINK'}" visible="{= ${oOperationItemsModel>Vplnr} === '' &amp;&amp; ${oOperationItemsModel>StdValKey} !== 'Z000' &amp;&amp; (${oOperationItemsModel>TiconStatus03} !== 'NONE' &amp;&amp; ${oOperationItemsModel>TiconStatus03} !== 'CFAIL')}" press="fnTiconExistence($event,'GEN', 'D', '3')" />
                                                                    </HBox>
                                                                </HBox>
                                                                <!--code for ticon status question-mark execute variables-->
                                                                <HBox>
                                                                    <HBox>
                                                                        <!-- <Button icon="sap-icon://edit" class="questionIconCls questMarkBtnColor" enabled="{= ${oOperationItemsModel>bEnableOprTiconFileds} &amp;&amp; ${oOperationItemsModel>Vplnr} === '' &amp;&amp; ${oOperationItemsModel>StdValKey} !== 'Z000'}" press="fnTiconExistence($event, 'QUEST', '', '2')" tooltip="{i18n>update.exquestions}" visible="{= ${oOperationItemsModel>SLWID} !== 'ZMEAUTO' &amp;&amp; ${oOperationItemsModel>TiconStatus02} === 'LINK'}" /> -->
                                                                        <Button icon="sap-icon://edit" class="questionIconCls questMarkBtnColor" enabled="{= ${oOperationItemsModel>Vplnr} === '' &amp;&amp; ${oOperationItemsModel>StdValKey} !== 'Z000'}" press="fnTiconExistence($event, 'QUEST', '', '2')" tooltip="{i18n>update.exquestions}" visible="{= ${oOperationItemsModel>SLWID} !== 'ZMEAUTO' &amp;&amp; ${oOperationItemsModel>TiconStatus02} === 'LINK'}" />
                                                                        <Button type="Reject" icon="sap-icon://display" class="questionIconCls" enabled="{= ${oOperationItemsModel>Vplnr} === '' &amp;&amp; ${oOperationItemsModel>StdValKey} !== 'Z000'}" press="fnTiconExistence($event, 'QUEST', '', '2')" tooltip="{i18n>update.exquestions}" visible="{= ${oOperationItemsModel>SLWID} !== 'ZMEAUTO' &amp;&amp; ${oOperationItemsModel>TiconStatus02} === 'TDIFF'}" />
                                                                        <Button type="Accept" icon="sap-icon://display" class="questionIconCls" enabled="{= ${oOperationItemsModel>Vplnr} === '' &amp;&amp; ${oOperationItemsModel>StdValKey} !== 'Z000'}" press="fnTiconExistence($event, 'QUEST', '', '2')" tooltip="{i18n>update.exquestions}" visible="{= ${oOperationItemsModel>SLWID} !== 'ZMEAUTO' &amp;&amp; ${oOperationItemsModel>TiconStatus02} === 'RELEA'}" />
                                                                        <Button type="Emphasized" icon="sap-icon://question-mark" class="questionIconCls" enabled="{= ${oOperationItemsModel>Vplnr} === '' &amp;&amp; ${oOperationItemsModel>StdValKey} !== 'Z000' &amp;&amp; (${oOperationItemsModel>TiconStatus02} !== 'NONE' &amp;&amp; ${oOperationItemsModel>TiconStatus02} !== 'CFAIL')}" press="fnTiconExistence($event, 'QUEST', '', '2')" tooltip="{i18n>update.exquestions}" visible="{= ${oOperationItemsModel>SLWID} !== 'ZMEAUTO' &amp;&amp; (${oOperationItemsModel>TiconStatus02} === 'NONE' || ${oOperationItemsModel>TiconStatus02} === '' || ${oOperationItemsModel>TiconStatus02} === 'CFAIL')}" />
                                                                    </HBox>
                                                                    <HBox visible="{=${oOperationItemsModel>SLWID} !== 'ZMEAUTO'}">
                                                                        <Button type="Emphasized" icon="sap-icon://shipping-status" tooltip="{i18n>ticon.release}" width="1.5rem" class="shippingBtnCls" visible="{= ${oOperationItemsModel>Ticon_status_2} !== 'REL' &amp;&amp; ${oOperationItemsModel>Vplnr} === '' &amp;&amp; ${oOperationItemsModel>StdValKey} !== 'Z000' &amp;&amp; (${oOperationItemsModel>TiconStatus02} !== 'NONE' &amp;&amp; ${oOperationItemsModel>TiconStatus02} !== 'CFAIL')}" press="fnTiconExistence($event,'RELUNDO', 'TICONREL', '2')" enabled="{oOperationItemsModel>bEnableOprTiconFileds}" />
                                                                        <Button type="Emphasized" icon="sap-icon://undo" tooltip="{i18n>ticon.undo}" width="1.5rem" class="shippingBtnCls" visible="{= ${oOperationItemsModel>Ticon_status_2} === 'REL' &amp;&amp; ${oOperationItemsModel>Vplnr} === '' &amp;&amp; ${oOperationItemsModel>StdValKey} !== 'Z000' &amp;&amp; (${oOperationItemsModel>TiconStatus02} !== 'NONE' &amp;&amp; ${oOperationItemsModel>TiconStatus02} !== 'CFAIL')}" press="fnTiconExistence($event, 'RELUNDO', 'TICONUNDO', '2')" enabled="{oOperationItemsModel>bEnableOprTiconFileds}" />
                                                                        <Button type="Reject" icon="sap-icon://delete" tooltip="{i18n>ticon.delete}" width="1.5rem" class="deleteBtnCls" enabled="{= ${oOperationItemsModel>bEnableOprTiconFileds} &amp;&amp; ${oOperationItemsModel>TiconStatus02} === 'LINK'}" visible="{= ${oOperationItemsModel>Vplnr} === '' &amp;&amp; ${oOperationItemsModel>StdValKey} !== 'Z000' &amp;&amp; (${oOperationItemsModel>TiconStatus02} !== 'NONE' &amp;&amp; ${oOperationItemsModel>TiconStatus02} !== 'CFAIL')}" press="fnTiconExistence($event,'GEN', 'D', '2')" />
                                                                    </HBox>
                                                                </HBox>
                                                            </VBox>
                                                            <!-- <ToolbarSeparator class="sapUiTinyMargin"/> -->
                                                            <VBox width="{oVisibilityModel>/OprHdrVbox6}">
                                                                <HBox>
                                                                    <core:Icon tooltip="{i18n>update.calctype}" src="sap-icon://fob-watch" class="sapUiTinyMarginBegin sapUiTinyMarginTop sapUiTinyMarginEnd pointerEventCls iconCssCls" visible="{=${oOperationItemsModel>SLWID} !== 'ZMEAUTO'}" />
                                                                    <Input value="{oOperationItemsModel>Calc_type}" width="0.5rem" class="sapUiTinyMarginEnd clsOprCalTypTxtInput" showValueHelp="true" valueHelpOnly="true" valueHelpRequest="fnValuehelpCalType" visible="{=${oOperationItemsModel>SLWID} !== 'ZMEAUTO'}" editable="{parts:[{path:'oOperationItemsModel>Vplnr'},{path:'oOperationItemsModel>Ticon_status_1'},{path:'oOperationItemsModel>Ticon_status_2'}, {path:'oOperationItemsModel>Ticon_status_3'},{path:'oOperationItemsModel>StdValKey'},{path:'oOperationItemsModel>Calc_type'},{path:'oOperationItemsModel>bEnableOprFileds'}],formatter:'.formatter.fnTiconTimesEnable'}" />
                                                                </HBox>
                                                                <HBox>
                                                                    <HBox>
                                                                        <Button icon="sap-icon://edit" class="questMarkBtnColor" enabled="{= ${oOperationItemsModel>bEnableOprTiconFileds} &amp;&amp; ${oOperationItemsModel>Vplnr} === ''&amp;&amp; ${oOperationItemsModel>StdValKey} !== 'Z000'}" press="fnTiconExistence($event, 'QUEST', '', '1')" tooltip="{i18n>update.exsetupquestions}" visible="{= ${oOperationItemsModel>SLWID} !== 'ZMEAUTO' &amp;&amp; ${oOperationItemsModel>TiconStatus01} === 'LINK'}"/>
                                                                        <Button type="Reject" icon="sap-icon://display" enabled="{= ${oOperationItemsModel>bEnableOprTiconFileds} &amp;&amp; ${oOperationItemsModel>Vplnr} === '' &amp;&amp; ${oOperationItemsModel>StdValKey} !== 'Z000'}" press="fnTiconExistence($event, 'QUEST', '', '1')" tooltip="{i18n>update.exsetupquestions}" visible="{= ${oOperationItemsModel>SLWID} !== 'ZMEAUTO' &amp;&amp; ${oOperationItemsModel>TiconStatus01} === 'TDIFF'}"/>
                                                                        <Button type="Accept" icon="sap-icon://display" enabled="{= ${oOperationItemsModel>bEnableOprTiconFileds} &amp;&amp; ${oOperationItemsModel>Vplnr} === '' &amp;&amp; ${oOperationItemsModel>StdValKey} !== 'Z000'}" press="fnTiconExistence($event, 'QUEST', '', '1')" tooltip="{i18n>update.exsetupquestions}" visible="{= ${oOperationItemsModel>SLWID} !== 'ZMEAUTO' &amp;&amp; ${oOperationItemsModel>TiconStatus01} === 'RELEA'}"/>
                                                                        <Button type="Emphasized" icon="sap-icon://question-mark" enabled="{= ${oOperationItemsModel>bEnableOprTiconFileds} &amp;&amp; ${oOperationItemsModel>Vplnr} === '' &amp;&amp; ${oOperationItemsModel>StdValKey} !== 'Z000' &amp;&amp; (${oOperationItemsModel>TiconStatus01} !== 'NONE' &amp;&amp; ${oOperationItemsModel>TiconStatus01} !== 'CFAIL')}" press="fnTiconExistence($event, 'QUEST', '', '1')" tooltip="{i18n>update.exsetupquestions}" visible="{= ${oOperationItemsModel>SLWID} !== 'ZMEAUTO' &amp;&amp; (${oOperationItemsModel>TiconStatus01} === 'NONE' || ${oOperationItemsModel>TiconStatus01} === '' || ${oOperationItemsModel>TiconStatus01} === 'CFAIL')}"/>
                                                                    </HBox>
                                                                    <HBox visible="{=${oOperationItemsModel>SLWID} !== 'ZMEAUTO'}">
                                                                        <Button type="Emphasized" icon="sap-icon://shipping-status" tooltip="{i18n>ticon.release}" width="1.5rem" class="shippingBtnCls" enabled="{oOperationItemsModel>bEnableOprTiconFileds}" visible="{= ${oOperationItemsModel>Ticon_status_1} !== 'REL' &amp;&amp; ${oOperationItemsModel>Vplnr} === '' &amp;&amp; ${oOperationItemsModel>StdValKey} !== 'Z000' &amp;&amp; (${oOperationItemsModel>TiconStatus01} !== 'NONE' &amp;&amp; ${oOperationItemsModel>TiconStatus01} !== 'CFAIL')}" press="fnTiconExistence($event,'RELUNDO', 'TICONREL', '1')" />
                                                                        <Button type="Emphasized" icon="sap-icon://undo" tooltip="{i18n>ticon.undo}" width="1.5rem" class="shippingBtnCls" enabled="{oOperationItemsModel>bEnableOprTiconFileds}" visible="{= ${oOperationItemsModel>Ticon_status_1} === 'REL' &amp;&amp; ${oOperationItemsModel>Vplnr} === '' &amp;&amp; ${oOperationItemsModel>StdValKey} !== 'Z000' &amp;&amp; (${oOperationItemsModel>TiconStatus01} !== 'NONE' &amp;&amp; ${oOperationItemsModel>TiconStatus01} !== 'CFAIL')}" press="fnTiconExistence($event, 'RELUNDO', 'TICONUNDO', '1')" />
                                                                        <Button type="Reject" icon="sap-icon://delete" tooltip="{i18n>ticon.delete}" width="1.5rem" class="deleteBtnCls" enabled="{= ${oOperationItemsModel>bEnableOprTiconFileds} &amp;&amp; ${oOperationItemsModel>TiconStatus01} === 'LINK'}" visible="{= ${oOperationItemsModel>Vplnr} === '' &amp;&amp; ${oOperationItemsModel>StdValKey} !== 'Z000' &amp;&amp; (${oOperationItemsModel>TiconStatus01} !== 'NONE' &amp;&amp; ${oOperationItemsModel>TiconStatus01} !== 'CFAIL')}" press="fnTiconExistence($event,'GEN', 'D', '1')" />
                                                                    </HBox>
                                                                </HBox>
                                                            </VBox>
                                                            <!-- <ToolbarSeparator class="sapUiTinyMargin"/> -->
                                                            <VBox width="{oVisibilityModel>/OprHdrVbox7}">
                                                                <!-- MJADMK7Z: MARS V3.0 CAPP order -->
                                                                <HBox>
                                                                    <core:Icon tooltip=" {i18n>routingheader.CAPPorderopr}" src="sap-icon://customer-and-supplier" class="sapUiTinyMarginBegin sapUiTinyMarginTop sapUiTinyMarginEnd pointerEventCls iconCssCls" />
                                                                    <Input value="{oOperationItemsModel>Capoc}" tooltip="{oOperationItemsModel>Capoc}" width="5.2rem" showSuggestion="false" suggestionItems="{ path:'oOperationItemsModel>/aSuggestOperationCAPPord', templateShareable : true }" showValueHelp="true" valueHelpRequest="fnValuehelpCAPPopr" change="fnChangeOprCAPP" enabled="{= ${oOperationItemsModel>Vplnr} === '' &amp;&amp; ${oOperationItemsModel>SLWID} !== 'ZMEAUTO' &amp;&amp; ${oVisibilityModel>/sMassUpdateUser} !== 'X'}" editable="true" valueStateText=" ">
                                                                        <suggestionItems>
                                                                            <core:ListItem text="{oOperationItemsModel>Value}" additionalText="{oOperationItemsModel>Description}" />
                                                                        </suggestionItems>
                                                                    </Input>
                                                                </HBox>
                                                                <HBox>
                                                                    <core:Icon tooltip=" {i18n>prt.StdKey}" src="sap-icon://text-align-justified" class="clsOprStdTxtIcon sapUiTinyMarginTop sapUiTinyMarginEnd pointerEventCls iconCssCls" />
                                                                    <!-- standard text -->
                                                                    <Input value="{oOperationItemsModel>Ktsch_Opr}" tooltip="{oOperationItemsModel>Ktsch_Opr}" width="5.2rem" showSuggestion="true" suggestionItems="{ path:'oOperationItemsModel>aSuggestStdKeyOpr', templateShareable : true }" showValueHelp="true" valueHelpRequest="fnValuehelpStdKeyOpr" change="fnChangeStdKeyOpr" liveChange="fnLiveChangeStdKeyOpr" enabled="{= ${oOperationItemsModel>ktsch_Ref} !== 'X' &amp;&amp; ${oVisibilityModel>/sMassUpdateUser} !== 'X' &amp;&amp; ${oOperationItemsModel>Vplnr} === ''}" suggestionItemSelected="fnStdKeySuggestionSelect">
                                                                        <suggestionItems>
                                                                            <core:ListItem text="{oOperationItemsModel>KTSCH}" />
                                                                        </suggestionItems>
                                                                    </Input>
                                                                </HBox>
                                                            </VBox>
                                                            <!-- <ToolbarSeparator class="sapUiTinyMargin"/> -->
                                                            <VBox width="{oVisibilityModel>/OprHdrVbox8}" alignItems="Center">
                                                                <HBox>
                                                                    <!-- MARS V3.4 Long Text of operation header -->
                                                                    <Button type="Emphasized" class="sapUiTinyMarginBegin" tooltip="{i18n>update.longtext}" icon="sap-icon://document-text" press="fnOperationHeaderTextDialog" visible="{=${oOperationItemsModel>Vplnr} === '' &amp;&amp; ${oOperationItemsModel>SLWID} !== 'ZMEAUTO'}" enabled="{=${oOperationItemsModel>bEnableOprDoc}}"/>
                                                                    <Button class="sapUiTinyMarginBegin clsOprHdrWhiteBtnBG" tooltip="{i18n>update.longtextsopr}" icon="sap-icon://document-text" press="fnOperationHeaderTextDialog" visible="{=${oOperationItemsModel>Vplnr} !== '' || ${oOperationItemsModel>SLWID} === 'ZMEAUTO'}" enabled="{=${oOperationItemsModel>Vplnr} === '' &amp;&amp; ${oOperationItemsModel>SLWID} !== 'ZMEAUTO'}"/>
                                                                    <!-- MARS V3.4 Object Dependency of operation header -->
                                                                    <Button icon="sap-icon://chain-link" class="sapUiTinyMarginBegin clsOprHdrWhiteBtnBG" press="fnOnPressObjDep" tooltip="{i18n>mody.ObjDep}" visible="{parts:[{path:'oOperationItemsModel>Knobj'}],formatter:'.formatter.fnObjDepColorOPR'}" enabled="{=${oVisibilityModel>/sMassUpdateUser} !== 'X' &amp;&amp; ${oOperationItemsModel>SLWID} !== 'ZMEAUTO'}"/>
                                                                    <Button icon="sap-icon://chain-link" class="sapUiTinyMarginBegin" type="Emphasized" press="fnOnPressObjDep" tooltip="{i18n>mody.ObjDep}" visible="{parts:[{path:'oVisibilityModel>/sMassUpdateUser'},{path:'oOperationItemsModel>Knobj'}],formatter:'.formatter.fnObjDepColorOPRBlue'}" />
                                                                    <!-- MARS V3.4 Insp-char of operation header -->
                                                                    <Button class="sapUiTinyMarginBegin clsOprHdrWhiteBtnBG" icon="sap-icon://lightbulb" id="idBulbIC1" tooltip="{i18n>insp.BtnEnable}" press="fnOpenInspChar" visible="{parts:[{ path:'oOperationItemsModel>IC_flag'},{path: 'oVisibilityModel>/sMassUpdateUser'},{ path:'oOperationItemsModel>IC_empty'}],formatter:'.formatter.fnInspCharColor'}" enabled="{=${oOperationItemsModel>SLWID} !== 'ZMEAUTO'}"/>
                                                                    <Button class="sapUiTinyMarginBegin" type="Emphasized" icon="sap-icon://lightbulb" id="idBulbIC2" tooltip="{i18n>insp.BtnEnableBlue}" press="fnOpenInspChar" visible="{parts:[{ path:'oOperationItemsModel>IC_flag'},{path: 'oVisibilityModel>/sMassUpdateUser'},{ path:'oOperationItemsModel>IC_empty'}],formatter:'.formatter.fnInspCharColorBlue'}" />
                                                                    <Button class="sapUiTinyMarginBegin clsOprHdrWhiteBtnBG" icon="sap-icon://lightbulb" id="idBulbIC3" tooltip="{i18n>insp.BtnDisable}" visible="{parts:[{ path:'oOperationItemsModel>IC_flag'},{path: 'oVisibilityModel>/sMassUpdateUser'},{ path:'oOperationItemsModel>IC_empty'}],formatter:'.formatter.fnInspCharColorDisable'}" enabled="false"/>
                                                                </HBox>
                                                                <HBox>
                                                                    <!-- MARS V3.4 effectivity of operation header -->
                                                                    <Button icon="sap-icon://upstacked-chart" class="sapUiTinyMarginBegin clsOprHdrWhiteBtnBG" press="fnOnPressOpeartionArea" tooltip="{i18n>mody.EffectBtnOPR}" enabled="{=${oVisibilityModel>/bEndUserVisible} &amp;&amp; ${oOperationItemsModel>Vplnr} === ''}" visible="{parts:[{ path:'oOperationItemsModel>Vplnr'},{path:'oOperationItemsModel>ModyEffect'}, {path:'oRoutingModel>/keyUser'}, {path:'oVisibilityModel>/sMassUpdateUser'}, {path:'oVisibilityModel>/bEndUserVisible'}],formatter:'.formatter.fnModifyColorOPR'}" />
                                                                    <Button icon="sap-icon://upstacked-chart" class="sapUiTinyMarginBegin" type="Emphasized" press="fnOnPressOpeartionArea" tooltip="{i18n>mody.EffectBtnOPR}" visible="{parts:[{path:'oOperationItemsModel>Vplnr'},{path:'oRoutingModel>/keyUser'},{path:'oOperationItemsModel>ModyEffect'}],formatter:'.formatter.fnModifyColorOPRYellow'}" />
                                                                    <!-- MARS V3.4 Classification of operation header -->
                                                                    <Button type="Emphasized" tooltip="{i18n>classification.operation}" class="sapUiTinyMarginBegin" icon="sap-icon://BusinessSuiteInAppSymbols/icon-classification" press="fnMassUpdateOprClassification" visible="{= ${oVisibilityModel>/sMassUpdateUser} === 'X'}" enabled="{=${oOperationItemsModel>bEnableOprClassification} &amp;&amp; ${oOperationItemsModel>SLWID} !== 'ZMEAUTO'}" />
                                                                    <Button icon="sap-icon://BusinessSuiteInAppSymbols/icon-classification" class="sapUiTinyMarginBegin clsOprHdrWhiteBtnBG" press="fnOnPressOpeartionAreaClassification" tooltip="{i18n>classification.operation}" visible="{parts:[{ path:'oOperationItemsModel>Klakz'},{path: 'oVisibilityModel>/sMassUpdateUser'}],formatter:'.formatter.fnClassificationColor'}" enabled="{=${oOperationItemsModel>Vplnr} !== ''&amp;&amp; ${oOperationItemsModel>SLWID} !== 'ZMEAUTO'}"/>
                                                                    <Button icon="sap-icon://BusinessSuiteInAppSymbols/icon-classification" type="Emphasized" class="sapUiTinyMarginBegin" press="fnOnPressOpeartionAreaClassification" tooltip="{i18n>classification.operation}" visible="{parts:[{ path:'oOperationItemsModel>Klakz'},{path: 'oVisibilityModel>/sMassUpdateUser'}],formatter:'.formatter.fnClassificationColorBlue'}" />
                                                                    <!-- MARS V3.4 Additional info of operation header -->
                                                                    <Button type="Emphasized" tooltip="{i18n>update.additionalinformation}" class="sapUiTinyMarginBegin" icon="sap-icon://hint" press="fnOpenOperationHeaderPopup" enabled="{=${oOperationItemsModel>bEnableOprTiconFileds} &amp;&amp; ${oOperationItemsModel>SLWID} !== 'ZMEAUTO'}" />
                                                                </HBox>
                                                            </VBox>
                                                        </Toolbar>

                                                    </headerToolbar>
                                                    <!-- Routing operation header details - ended -->
                                                    <content>
                                                        <!-- This section holds Operation long text & PRT table - started -->
                                                        <l:Grid defaultSpan="XL12 L12 M12 S12" visible="{=${oOperationItemsModel>SLWID} !== 'ZMEAUTO'}" class="clsGridTxtPRT sapUiSmallMarginTop sapUiNoMarginBegin sapUiNoContentPadding">
                                                            <!-- This section holds Operation long text - started -->
                                                            <VBox>
                                                                <OverflowToolbar width="100%" height="2rem" design="Info">
                                                                    <content>
                                                                        <Title text="{i18n>std.longtext}" class="titlebold" />
                                                                        <Input value="{oOperationItemsModel>Txtsp}" width="45px" editable="false" class="langBold" />
                                                                        <ToolbarSpacer/>
                                                                        <Button type="Emphasized" icon="sap-icon://undo" press="fnUndoIncTxt" tooltip="{i18n>high.CommentUndo}" enabled="{= ${oVisibilityModel>/sMassUpdateUser} !== 'X'}" visible="{= ${oOperationItemsModel>Vplnr} === ''}" />
                                                                        <Button icon="sap-icon://notification-2" type="Emphasized" press="fnLongTxtCmnt" tooltip="{i18n>high.Comment}" visible="{= ${oOperationItemsModel>Vplnr} === ''}" enabled="{oOperationItemsModel>bEnableKeyUserOprLongTxt}" />
                                                                        <Button text="B" type="Emphasized" press="fnLongTxtBold" tooltip="{i18n>high.Bold}" enabled="{oOperationItemsModel>bEnableKeyUserOprLongTxt}" visible="{= ${oOperationItemsModel>Vplnr} === ''}" />
                                                                        <Button text="{i18n>std.standaradtext}" type="Emphasized" icon="sap-icon://attachment-text-file" visible="{= ${oOperationItemsModel>Vplnr} === ''}" press="fnValuehelpStandardText" tooltip="{i18n>std.standaradtext}" enabled="{oOperationItemsModel>bEnableKeyUserOprLongTxt}" />
                                                                    </content>
                                                                </OverflowToolbar>
                                                                <rte:RichTextEditor value="{oOperationItemsModel>Long_Text/results}" showGroupClipboard="false" showGroupFontStyle="false" showGroupStructure="false" change="fnOperationItemTextChange" beforeEditorInit="fnOnBeforeEditorInit" showGroupTextAlign="false" height="315px" width="100%" editable="{oOperationItemsModel>bEnableKeyUserOprLongTxt}" />
                                                                <layoutData>
                                                                    <l:GridData span="XL5 L5 M5 S12" />
                                                                </layoutData>
                                                            </VBox>
                                                            <!-- This section holds Operation long text - ended -->
                                                            <!-- This section holds Operation PRT table - started -->
                                                            <VBox class="clsProposedArrow">
                                                                <layoutData>
                                                                    <l:GridData span="{oVisibilityModel>/span}" />
                                                                </layoutData>
                                                                <ui:Table id="idPRTTable" width="100%" visibleRowCount="7" rows="{path: 'oOperationItemsModel>PRT/results' ,filters:[{path:'Loekz',operator:'EQ', value1:false}]}" rowSelectionChange="fnOpenDocBtnDisable">
                                                                    <ui:extension>
                                                                        <Toolbar width="100%" design="Info">
                                                                            <Label text="{i18n>update.prt}" class="titlebold" tooltip="{i18n>update.prt}" />
                                                                            <Button type="Emphasized" icon="sap-icon://image-viewer" press="fnPRTDocOpen" tooltip="{i18n>prt.DocOpen}" enabled="{oOperationItemsModel>bOPenPRTBtnEnable}" />
                                                                            <Button type="Emphasized" icon="sap-icon://filter-fields" press="fnPRTWebGUIOpen" tooltip="{i18n>prt.WebGUIOpen}" enabled="{oOperationItemsModel>bOPenPRTBtnEnable}" />
                                                                            <ToolbarSpacer/>
                                                                            <Button icon="sap-icon://table-view" press="fnOnPRTManage" tooltip="{i18n>prt.prtMBtn}" type="Emphasized" visible="{= ${oOperationItemsModel>Vplnr} === '' &amp;&amp;  ${oVisibilityModel>/sMassUpdateUser} !== 'X'}" />
                                                                            <Button icon="sap-icon://copy" press="fnCopyPRT" visible="{= ${oOperationItemsModel>Vplnr} === '' &amp;&amp;  ${oOperationItemsModel>bEnableKeyUserPRTAdd} &amp;&amp; ${oVisibilityModel>/sMassUpdateUser} !== 'X'}" tooltip="{i18n>prt.copy}" />
                                                                            <Button type="Emphasized" icon="sap-icon://paste" press="fnPastePRT" visible="{= ${oOperationItemsModel>Vplnr} === '' &amp;&amp;  ${oOperationItemsModel>bEnableKeyUserPRTAdd} &amp;&amp; ${oVisibilityModel>/sMassUpdateUser} !== 'X' }" tooltip="{i18n>prt.paste}" enabled="{= ${oRoutingModel>/aSelectedRowsToCopy} ? true : false }" />
                                                                            <Button type="Accept" icon="sap-icon://add" press="fnADDPRT" visible="{= ${oOperationItemsModel>Vplnr} === '' &amp;&amp; ${oOperationItemsModel>bEnableKeyUserPRTAdd}}" tooltip="{i18n>prt.addPRT}" />
                                                                            <Button id="idTemAddPrt" type="Emphasized" icon="sap-icon://delete" press="fnADDPRT" visible="{= ${oVisibilityModel>/sMassUpdateUser} === 'X' &amp;&amp; ${oOperationItemsModel>aTempAddedDelButton}}" tooltip="{i18n>update.addtempPRT}" />
                                                                            <Button type="Reject" icon="sap-icon://delete" press="fnDeletePRT" visible="{= ${oOperationItemsModel>Vplnr} === '' &amp;&amp; ${oOperationItemsModel>bEnableKeyUserPRTDel}}" enabled="{oOperationItemsModel>/bEnableMassUserPRTDel}" tooltip="{i18n>prt.deletePRT}" />
                                                                        </Toolbar>
                                                                    </ui:extension>
                                                                    <ui:dragDropConfig>
                                                                        <dnd:DragInfo sourceAggregation="rows" enabled="{= ${oOperationItemsModel>Vplnr} === '' &amp;&amp; ${oOperationItemsModel>bEnableKeyUserPRTTable}}" />
                                                                        <dnd:DropInfo drop="fnPRTDrop" enabled="{= ${oOperationItemsModel>Vplnr} === ''  &amp;&amp; ${oOperationItemsModel>bEnableKeyUserPRTTable}}" />
                                                                    </ui:dragDropConfig>
                                                                    <ui:rowSettingsTemplate>
                                                                        <ui:RowSettings highlight="{ path:'oOperationItemsModel>Prt_color',formatter:'.formatter.fnRowSettingsColor'}" />
                                                                    </ui:rowSettingsTemplate>
                                                                    <ui:columns>
                                                                        <ui:Column width="2rem" visible="{= ${oOperationItemsModel>Vplnr} === ''  &amp;&amp; ${oOperationItemsModel>bEnableKeyUserPRTTable}}">
                                                                            <Label text="" />
                                                                            <ui:template>
                                                                                <core:Icon src="sap-icon://vertical-grip" />
                                                                            </ui:template>
                                                                        </ui:Column>
                                                                        <ui:Column width="4rem" visible="{= ${oOperationItemsModel>Vplnr} === '' &amp;&amp; ${oVisibilityModel>/sMassUpdateUser} !== 'X' &amp;&amp; ${oRoutingModel>/keyUser} !== 'X'}">
                                                                            <Label text="" />
                                                                            <ui:template>
                                                                                <HBox>
                                                                                    <core:Icon src="sap-icon://upstacked-chart" press="fnOnPressPRT" tooltip="{i18n>mody.EffectBtnPRT}" class="clsModifyYellow" visible="{parts:[{ path:'oOperationItemsModel>Vplnr'},{path:'oRoutingModel>/keyUser'},{path:'oOperationItemsModel>Knobj'}],formatter:'.formatter.fnModifyColorOPRYellow'}" />
                                                                                    <core:Icon src="sap-icon://upstacked-chart" press="fnOnPressPRT" tooltip="{i18n>mody.EffectBtnPRT}" class="clsModify" visible="{parts:[{ path:'oOperationItemsModel>Vplnr'},{path:'oRoutingModel>/keyUser'},{path:'oOperationItemsModel>Knobj'}],formatter:'.formatter.fnModifyColorOPR'}" />
                                                                                </HBox>
                                                                            </ui:template>
                                                                        </ui:Column>
                                                                        <ui:Column width="5rem">
                                                                            <Label text="{i18n>prt.itemdoc}" tooltip="{i18n>prt.itemdoc}" wrapping="true" required="true" />
                                                                            <ui:template>
                                                                                <Input type="Number" value="{oOperationItemsModel>Psnfh}" enabled="{= ${oOperationItemsModel>sRefOpr} === '' &amp;&amp; ${oOperationItemsModel>sLoginMassUpdateUser} !== 'X'}" maxLength="4" liveChange="fnValidateItemNumber" valueState="{oOperationItemsModel>Psnfh_Vstate}" valueStateText=" " />
                                                                            </ui:template>
                                                                        </ui:Column>
                                                                        <ui:Column width="5.5rem">
                                                                            <Label text="{i18n>prt.prtcat}" tooltip="{i18n>prt.prtcat}" required="true" wrapping="true" />
                                                                            <ui:template>
                                                                                <ComboBox showSecondaryValues="true" selectedKey="{oOperationItemsModel>Fhmar}" change="fnChangePRTCategory" enabled="{= ${oOperationItemsModel>sLoginMassUpdateUser} !== 'X'}" editable="{ path:'oOperationItemsModel>bEnable',formatter:'.formatter.fnEnablePrtFields'}" items="{ path: 'oSrvModel>/ET_PRT_CtgrySet', templateShareable : true }" valueState="{oOperationItemsModel>Fhmar_Vstate}" valueStateText=" ">
                                                                                    <core:ListItem key="{oSrvModel>FHMAR}" text="{oSrvModel>FHMAR}" additionalText="{oSrvModel>FAKTX}" />
                                                                                </ComboBox>
                                                                            </ui:template>
                                                                        </ui:Column>
                                                                        <ui:Column width="5.9rem">
                                                                            <Label text="{i18n>prt.doctype}" tooltip="{i18n>prt.doctype}" wrapping="true" />
                                                                            <ui:template>
                                                                                <ComboBox enabled="{= ${oOperationItemsModel>Fhmar} === 'D' &amp;&amp; ${oOperationItemsModel>sLoginMassUpdateUser} !== 'X'}" editable="{ path:'oOperationItemsModel>bEnable',formatter:'.formatter.fnEnablePrtFields'}" showSecondaryValues="true" selectedKey="{oOperationItemsModel>Dokar}" items="{ path: 'oSrvModel>/ET_Doc_TypeSet', templateShareable : true }" change="fnChangePRTDocType" valueState="{oOperationItemsModel>Dokar_Vstate}" valueStateText=" ">
                                                                                    <core:ListItem key="{oSrvModel>DOKAR}" text="{oSrvModel>DOKAR}" additionalText="{oSrvModel>DARTXT}" />
                                                                                </ComboBox>
                                                                            </ui:template>
                                                                        </ui:Column>
                                                                        <ui:Column width="5.5rem">
                                                                            <Label text="{i18n>prt.contkey}" tooltip="{i18n>prt.contkey}" required="true" wrapping="true" />
                                                                            <ui:template>
                                                                                <ComboBox showSecondaryValues="true" selectedKey="{oOperationItemsModel>Steuf}" enabled="{= ${oOperationItemsModel>sRefOpr} === '' &amp;&amp; ${oOperationItemsModel>sLoginMassUpdateUser} !== 'X'}" items="{ path: 'oSrvModel>/ET_PRT_CntrlKeySet', templateShareable : true }" valueState="{oOperationItemsModel>Steuf_Vstate}" valueStateText=" " change="fnChangeControlKey">
                                                                                    <core:ListItem key="{oSrvModel>STEUF}" text="{oSrvModel>STEUF}" additionalText="{oSrvModel>STFTXT}" />
                                                                                </ComboBox>
                                                                            </ui:template>
                                                                        </ui:Column>
                                                                        <ui:Column width="13rem">
                                                                            <Label text="{i18n>prt.doc}" tooltip="{i18n>prt.doc}" wrapping="true" />
                                                                            <ui:template>
                                                                                <Input showValueHelp="true" enabled="{= ${oOperationItemsModel>Fhmar} === 'D' &amp;&amp; ${oOperationItemsModel>sLoginMassUpdateUser} !== 'X'}" editable="{ path:'oOperationItemsModel>bEnable',formatter:'.formatter.fnEnablePrtFields'}" valueHelpRequest="fnDocumentValuehelp" value="{oOperationItemsModel>Doknr}" change="fnChangePRTDocument" valueState="{oOperationItemsModel>Doknr_Vstate}" valueStateText=" " liveChange="fnGetPRTDOcLive" showSuggestion="true" suggestionRows="{ path: 'oOperationItemsModel>aSuggestOperationDocumentNum', length:100, templateShareable : true }" maxSuggestionWidth="17rem" suggestionItemSelected="fnPRTDocSuggestionSelect">
                                                                                    <suggestionColumns>
                                                                                        <Column width="6rem">
                                                                                            <Label text="{i18n>doc.number}" tooltip="{i18n>doc.number}" />
                                                                                        </Column>
                                                                                        <Column hAlign="Center" width="3rem">
                                                                                            <Label text="{i18n>doc.docpart}" tooltip="{i18n>doc.docpart}" />
                                                                                        </Column>
                                                                                        <Column hAlign="End" width="4rem">
                                                                                            <Label text="{i18n>doc.docversion}" tooltip="{i18n>doc.docversion}" />
                                                                                        </Column>
                                                                                        <!--V4.0 USNO#1663794 -  New Doc. type column is added in the suggestion of the Documnet - SJOST4UU-->
                                                                                        <Column hAlign="End" width="4rem">
                                                                                            <Label text="{i18n>prt.doctype}" tooltip="{i18n>prt.doctype}" />
                                                                                        </Column>
                                                                                    </suggestionColumns>
                                                                                    <suggestionRows>
                                                                                        <ColumnListItem>
                                                                                            <cells>
                                                                                                <Label text="{oOperationItemsModel>DOKNR}" tooltip="{oOperationItemsModel>DOKNR}" />
                                                                                                <Label text="{oOperationItemsModel>DOKTL}" tooltip="{oOperationItemsModel>DOKTL}" />
                                                                                                <Label text="{oOperationItemsModel>DOKVR}" tooltip="{oOperationItemsModel>DOKVR}" />
                                                                                                <!--V4.0 USNO#1663794 -  New Doc. type column is added in the suggestion of the Documnet - SJOST4UU-->
                                                                                                <Label text="{oOperationItemsModel>DOKAR}" tooltip="{oOperationItemsModel>DOKAR}" />
                                                                                            </cells>
                                                                                        </ColumnListItem>
                                                                                    </suggestionRows>
                                                                                </Input>
                                                                            </ui:template>
                                                                        </ui:Column>
                                                                        <ui:Column width="5.5rem">
                                                                            <Label text="{i18n>prt.docpart}" tooltip="{i18n>prt.docpart}" wrapping="true" />
                                                                            <ui:template>
                                                                                <Input value="{oOperationItemsModel>Doktl}" valueState="{oOperationItemsModel>Doktl_Vstate}" showValueStateMessage="false" change="fnValidateDocument" enabled="{= ${oOperationItemsModel>Fhmar} === 'D' &amp;&amp; ${oOperationItemsModel>sLoginMassUpdateUser} !== 'X'}" editable="{ path:'oOperationItemsModel>bEnable',formatter:'.formatter.fnEnablePrtFields'}" />
                                                                            </ui:template>
                                                                        </ui:Column>
                                                                        <ui:Column width="5rem">
                                                                            <Label text="{i18n>prt.docversion}" tooltip="{i18n>prt.docversion}" wrapping="true" />
                                                                            <ui:template>
                                                                                <Input value="{oOperationItemsModel>Dokvr}" valueState="{oOperationItemsModel>Dokvr_Vstate}" showValueStateMessage="false" change="fnValidateDocument" enabled="{= ${oOperationItemsModel>Fhmar} === 'D' &amp;&amp; ${oOperationItemsModel>sLoginMassUpdateUser} !== 'X'}" editable="{ path:'oOperationItemsModel>bEnable',formatter:'.formatter.fnEnablePrtFields'}" />
                                                                            </ui:template>
                                                                        </ui:Column>
                                                                        <ui:Column width="5rem">
                                                                            <Label text="{i18n>doc.docStatus}" tooltip="{i18n>doc.docStatus}" wrapping="true" />
                                                                            <ui:template>
                                                                                <Text text="{oOperationItemsModel>Dokst}" tooltip="{oOperationItemsModel>Dostx}" />
                                                                            </ui:template>
                                                                        </ui:Column>
                                                                        <ui:Column width="20rem">
                                                                            <Label text="{i18n>prt.desc}" tooltip="{i18n>prt.desc}" wrapping="true" />
                                                                            <ui:template>
                                                                                <Text text="{oOperationItemsModel>Fhktx}" />
                                                                            </ui:template>
                                                                        </ui:Column>
                                                                        <ui:Column width="8rem">
                                                                            <Label text="{i18n>prt.textforpro}" tooltip="{i18n>prt.textforpro}" wrapping="true" />
                                                                            <ui:template>
                                                                                <Input value="{oOperationItemsModel>Txtz1}" enabled="{= ${oOperationItemsModel>sRefOpr} === ''  &amp;&amp; ${oOperationItemsModel>sLoginMassUpdateUser} !== 'X'}" change="fnTextforproduction" />
                                                                            </ui:template>
                                                                        </ui:Column>
                                                                        <ui:Column width="6.5rem">
                                                                            <Label text="{i18n>prt.StdKey}" tooltip="{i18n>prt.StdKey}" required="{oOperationItemsModel>bStdKeyReq}" wrapping="true" />
                                                                            <ui:template>
                                                                                <Input value="{oOperationItemsModel>Ktsch}" valueState="{oOperationItemsModel>Ktsch_Vstate}" showValueStateMessage="false" change="fnValidateDocument" liveChange="fnStdKeyLiveChange" showValueHelp="true" valueHelpOnly="false" valueHelpRequest="fnOnStdKeyValueHelp" enabled="{= ${oOperationItemsModel>sRefOpr} === ''  &amp;&amp; ${oOperationItemsModel>sLoginMassUpdateUser} !== 'X'}" suggestionItems="{ path: 'oOperationItemsModel>/aSuggestStdKey', templateShareable : true }" showSuggestion="true" suggestionItemSelected="fnHandleSuggestItmSelected">
                                                                                    <suggestionItems>
                                                                                        <core:ListItem text="{oOperationItemsModel>Ktsch}" />
                                                                                    </suggestionItems>
                                                                                </Input>
                                                                            </ui:template>
                                                                        </ui:Column>
                                                                        <ui:Column width="12rem">
                                                                            <Label text="{i18n>prt.material}" tooltip="{i18n>prt.material}" wrapping="true" />
                                                                            <ui:template>
                                                                                <HBox>
                                                                                    <Input enabled="{= ${oOperationItemsModel>Fhmar} === 'M' &amp;&amp; ${oOperationItemsModel>sLoginMassUpdateUser} !== 'X'}" editable="{ path:'oOperationItemsModel>bEnable',formatter:'.formatter.fnEnablePrtFields'}" change="fnChangePRTMaterial" value="{oOperationItemsModel>Sfhnr}" showValueHelp="true" valueHelpRequest="fnPRTMaterialhelp" valueState="{oOperationItemsModel>Matnr_Vstate}" valueStateText=" " tooltip="{oOperationItemsModel>Sfhnr}" liveChange="fnGetMaterialLive" showSuggestion="true" suggestionRows="{ path: 'oOperationItemsModel>aSuggestMaterialNum', length:100, templateShareable : true }" maxSuggestionWidth="25rem">
                                                                                        <suggestionColumns>
                                                                                            <Column width="9rem">
                                                                                                <Label text="{i18n>dsvaluehelp.material}" tooltip="{i18n>dsvaluehelp.material}" />
                                                                                            </Column>
                                                                                            <Column width="11rem">
                                                                                                <Label text="{i18n>dsvaluehelp.Oldmaterial}" tooltip="{i18n>dsvaluehelp.Oldmaterial}" />
                                                                                            </Column>
                                                                                            <Column hAlign="Center" width="3rem">
                                                                                                <Label text="{i18n>dsvaluehelp.plant}" tooltip="{i18n>dsvaluehelp.plant}" />
                                                                                            </Column>
                                                                                        </suggestionColumns>
                                                                                        <suggestionRows>
                                                                                            <ColumnListItem>
                                                                                                <cells>
                                                                                                    <Label text="{oOperationItemsModel>Material}" tooltip="{oOperationItemsModel>Material}" />
                                                                                                    <Label text="{oOperationItemsModel>Old_material}" tooltip="{oOperationItemsModel>Old_material}" />
                                                                                                    <Label text="{oOperationItemsModel>Plant}" tooltip="{oOperationItemsModel>Plant}" />
                                                                                                </cells>
                                                                                            </ColumnListItem>
                                                                                        </suggestionRows>
                                                                                    </Input>
                                                                                    <Button icon="sap-icon://forward" type="Emphasized" class="sapUiTinyMarginBegin" enabled="{= ${oOperationItemsModel>Fhmar} === 'M' &amp;&amp; ${oOperationItemsModel>sLoginMassUpdateUser} !== 'X'}" tooltip="{i18n>Nav.MM03}" press="fnOpenWEBGUIMM03($event, 'PRT')" />
                                                                                </HBox>
                                                                            </ui:template>
                                                                        </ui:Column>
                                                                        <ui:Column width="7rem">
                                                                            <Label text="{i18n>prt.plant}" tooltip="{i18n>prt.plant}" wrapping="true" />
                                                                            <ui:template>
                                                                                <Input enabled="{= !${oOperationItemsModel>Fhmar} === 'M' &amp;&amp; ${oOperationItemsModel>sLoginMassUpdateUser} !== 'X'}" showValueHelp="true" editable="{ path:'oOperationItemsModel>bEnable',formatter:'.formatter.fnEnablePrtFields'}" valueHelpRequest="fnPlantPRThelp" value="{oOperationItemsModel>Fhwrk}" maxLength="4" showSuggestion="true" suggestionItems="{ path: 'oOperationItemsModel>aPRTPlants', templateShareable : true }">
                                                                                    <suggestionItems>
                                                                                        <core:ListItem text="{oOperationItemsModel>Plant}" />
                                                                                    </suggestionItems>
                                                                                </Input>
                                                                            </ui:template>
                                                                        </ui:Column>
                                                                        <ui:Column width="auto">
                                                                            <Label text="{i18n>prt.quantity}" tooltip="{i18n>prt.quantitytool}" required="true" wrapping="true" />
                                                                            <ui:template>
                                                                                <Input enabled="{= ${oOperationItemsModel>sRefOpr} === '' &amp;&amp; ${oOperationItemsModel>sLoginMassUpdateUser} !== 'X'}" editable="{= ${oOperationItemsModel>Fhmar} === 'M'}" change="fnChangePRTQuantity" value="{path:'oOperationItemsModel>Mgvgw', type: 'sap.ui.model.type.Integer', formatOptions: { maxFractionDigits: 0 } , constraints: {minimum: 1, maximum: 999999}}" type="Number" valueState="{oOperationItemsModel>Mgvgw_Vstate}" valueStateText="{i18n>prt.quantityvstatemsg}" />
                                                                            </ui:template>
                                                                        </ui:Column>
                                                                    </ui:columns>
                                                                </ui:Table>
                                                            </VBox>
                                                            <!-- This section holds Operation PRT table - ended -->
                                                        </l:Grid>
                                                        <!-- This section holds Operation long text & PRT table - ended -->
                                                    </content>
                                                </Panel>
                                                <!-- Panel is for Routing operation - ended -->
                                            </CustomListItem>
                                        </List>
                                        <!-- List is for Routing operations section - ended -->
                                    </ScrollContainer>
                                </VBox>
                            </content>                           
                        </Page>
                    </l:Splitter>
                </content>
                <footer>
                    <OverflowToolbar class="footerbgcolor">
                        <Button icon="sap-icon://alert" text="{=${message>/}.length}" visible="{=${message>/}.length > 0}" type="Reject" press="onMessagePopoverPress" />
                        <Button text="{i18n>update.addsploperation}" type="Emphasized" icon="sap-icon://add" press="fnAddOperation($event, 'SOprno')" visible="{oVisibilityModel>/bKeyUserVisible}" tooltip="{i18n>update.addsploperation}" enabled="{oRoutingHeaderModel>/bEnableKeyUserAddImpOprButton}" />
                        <Button text="{i18n>update.creatrefoprset}" type="Emphasized" icon="sap-icon://add" press="fnCreateRefOpSet" visible="{= ${oRoutingModel>/keyUser} !== 'X'}" tooltip="{i18n>update.creatrefoprset}" />
                        <Button text="{i18n>update.addoperation}" type="Emphasized" icon="sap-icon://add" press="fnAddOperation" enabled="{oRoutingHeaderModel>/bEnableKeyUserAddImpOprButton}" tooltip="{i18n>update.addoperation}" />
                        <Button text="{i18n>copyOpr.ImportOperation}" type="Emphasized" icon="sap-icon://add" press="fnOnImportOpr" enabled="{oRoutingHeaderModel>/bEnableKeyUserAddImpOprButton}" visible="{= ${oRoutingModel>/keyUser} === 'X'}" tooltip="{i18n>copyOpr.ImportOperation}" />
                        <Button text="{i18n>update.deleteOp}" type="Reject" icon="sap-icon://delete" press="fnDelMultipleOpr" enabled="{oRoutingHeaderModel>/bEnableKeyUserOprDelButton}" tooltip="{i18n>update.deleteOp}" />
                        <Button text="{i18n>update.addtempOpr}" type="Emphasized" icon="sap-icon://delete" press="fnAddOperation" visible="{= ${oVisibilityModel>/sMassUpdateUser} === 'X' &amp;&amp; ${oRoutingHeaderModel>/aTempAddedOperButton}}" tooltip="{i18n>update.addtempOprTooltip}" />
                        <Button text="{i18n>update.c223}" type="Emphasized" press="fnOpenWEBGUIC223" tooltip="{i18n>update.c223}" visible="false" />
                        <Button text="{i18n>update.UpdateOpeartion}" type="Emphasized" press="fnOnPressUpdateButton" tooltip="{i18n>update.UpdateOpeartion}" visible="false" />
                        <ToolbarSpacer />
                        <Button text="{i18n>OpenVMP}" type="Emphasized" icon="sap-icon://forward" press="fnOpenVMP" tooltip="{i18n>OpenVMP}" enabled="{oVisibilityModel>/VMPButtonEnabled}" visible="{oVisibilityModel>/bEndUserVisible}" />
                        <Button text="{i18n>update.MatClass}" type="Emphasized" press="fnGoToMaterialClassification" icon="sap-icon://forward" tooltip="{i18n>update.MatClass}" visible="{= ${oVisibilityModel>/sMassUpdateUser} !== 'X'}" />
                        <Button text="{i18n>update.smartcopy}" type="Emphasized" press="fnOpenSmartCopyValidation" icon="sap-icon://forward" tooltip="{i18n>update.smartcopy}" visible="{oVisibilityModel>/bEndUserVisible}" />
                        <Button text="{i18n>update.parallellines}" type="Emphasized" press="fnOpenWEBGUIParallelLines" icon="sap-icon://forward" tooltip="{i18n>update.parallellinestooltip}" visible="{oVisibilityModel>/bEndUserVisible}" />
                        <Button text="{i18n>update.rcs}" icon="sap-icon://forward" type="Emphasized" press="fnNavigateToRCS" tooltip="{i18n>update.rcs}" visible="{oVisibilityModel>/bEndUserVisible}" />
                        <Button text="{i18n>update.save}" icon="sap-icon://save" type="Accept" press="fnCreateRouting($event, 'SAVE')" enabled="{oVisibilityModel>/bSavedBomSplitData}" tooltip="{= ${oVisibilityModel>/bSavedBomSplitData} ? ${i18n>update.save} : ${i18n>bom.saveBomData} }" visible="{parts:[{ path:'oVisibilityModel>/sMassUpdateUser'},{path:'oVisibilityModel>/bSaveVisible'},{path:'oVisibilityModel>/bChangeSelectedSimpleForm'}],formatter:'.formatter.fnSaveVisible'}" />
                        <Button text="{i18n>update.create}" icon="sap-icon://save" type="Accept" press="fnCreateRouting" visible="{= !${oVisibilityModel>/bChangeSelectedSimpleForm} &amp;&amp; !${oVisibilityModel>/bSaveVisible}}" tooltip="{i18n>update.create}" />
                        <Button text="{i18n>update.routingModification}" icon="sap-icon://save" type="Accept" press="fnMUUpdatevalidation" visible="{= ${oVisibilityModel>/sMassUpdateUser} === 'X'}" tooltip="{i18n>update.routingModification}" />
                    </OverflowToolbar>
                </footer>
            </Page>
        </pages>
    </App>
</mvc:View>
